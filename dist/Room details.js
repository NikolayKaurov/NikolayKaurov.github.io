(self.webpackChunkNikolayKaurov_github_io=self.webpackChunkNikolayKaurov_github_io||[]).push([[481],{213:(t,a,s)=>{"use strict";var o=s(755),e=s.n(o);function d(t){if(t.data.card.$departure.val()&&t.data.card.$arrival.val()&&parseInt(t.data.card.$adult.val(),10)?t.data.card.$submit.prop("disabled",!1):t.data.card.$submit.prop("disabled",!0),t.data.card.$departure.val()&&t.data.card.$arrival.val()){const a=(Date.parse(t.data.card.$departure.val())-Date.parse(t.data.card.$arrival.val()))/864e5;let s;s=a%10==1&&a%100!=11?" сутки":" суток",t.data.card.$days.text(`${a}${s}`),t.data.card.$totalPrice.text(`${new Intl.NumberFormat("ru-RU").format(a*t.data.card.price)}₽`),t.data.card.$total.text(`${new Intl.NumberFormat("ru-RU").format(a*t.data.card.price+t.data.card.fee+t.data.card.feeAdd-t.data.card.discount)}₽`)}else t.data.card.$days.text("0 суток"),t.data.card.$totalPrice.text("0₽"),t.data.card.$total.text("0₽")}class n{constructor(t){this.$card=e()(t),this.$days=e()(".js-card-details__calc-days",this.$card),this.$totalPrice=e()(".js-card-details__total-price",this.$card),this.$total=e()(".js-card-details__total",this.$card),this.$submit=e()(".js-button__input",this.$card),this.$arrival=e()(".js-datepicker__input_arrival",this.$card),this.$departure=e()(".js-datepicker__input_departure",this.$card),this.$adult=e()(e()(".js-dropdown__quantity",this.$card).get(2)),this.price=parseFloat(t.dataset.price),this.discount=parseFloat(t.dataset.discount),this.fee=parseFloat(t.dataset.fee),this.feeAdd=parseFloat(t.dataset.feeadd)}init(){this.$card.on("input",null,{card:this},d)}}e()(".js-card-details").each(((t,a)=>{new n(a).init()}))},379:(t,a,s)=>{"use strict";var o=s(755),e=s.n(o);e()(".js-checkbox").each(((t,a)=>{e()(".js-checkbox__button",e()(a)).each(((t,s)=>{e()(s).attr("id",`${e()(a).data("name")}-${e()(s).data("name")}`),e()(s).attr("name",`${e()(a).data("name")}-${e()(s).data("name")}`),e()(`.js-checkbox__button-label[data-name='${e()(s).data("name")}']`,e()(a)).attr("for",`${e()(a).data("name")}-${e()(s).data("name")}`)}))}))},485:(t,a,s)=>{"use strict";var o=s(755),e=s.n(o);function d(t){const{$datepicker:a}=t.data.datepicker;e()(t.target).addClass("datepicker__expand_open"),t.data.datepicker.open()}function n(t){const{$datepicker:a}=t.data.datepicker;a.hasClass("datepicker_keeping-open")?a.removeClass("datepicker_keeping-open"):(e()(t.target).removeClass("datepicker__expand_open"),t.data.datepicker.close())}function r(t){const{$datepicker:a,$datepicker__down:s}=t.data.datepicker;a.addClass("datepicker_keeping-open"),s.addClass("datepicker__down_pressed")}function i(t){const{$datepicker:a,$datepicker__down:s}=t.data.datepicker;s.hasClass("datepicker__down_pressed")&&(s.removeClass("datepicker__down_pressed"),e()(".datepicker__expand_open",a).trigger("focus"))}class p{#t="129px";#a="0px";constructor(t){this.$datepicker=e()(t)}init(){const t=2*this.$datepicker.data("z-index")-1,a=this.$datepicker.data("name");this.$datepicker__down=e()(".js-datepicker__down",this.$datepicker).css({"z-index":t}).on(`mousedown.datepicker__down.${a}`,null,{datepicker:this},r).on(`mouseup.datepicker__down.${a} mouseout.datepicker__down.${a}`,null,{datepicker:this},i),this.$datepicker.on(`focusin.datepicker.${a}`,".js-datepicker__expand",{datepicker:this},d).on(`focusout.datepicker.${a}`,".js-datepicker__expand",{datepicker:this},n)}open(){this.$datepicker__down.css({height:this.#t,border:"1px solid rgba(31, 32, 65, 0.25)",transition:"height 500ms, border 500ms"})}close(){this.$datepicker__down.css({height:this.#a,border:"0px solid rgba(31, 32, 65, 0)",transition:"height 500ms, border 500ms"})}}e()(".js-datepicker").each(((t,a)=>{new p(a).init()}))},912:(t,a,s)=>{"use strict";var o=s(755),e=s.n(o);function d(t){t.data.dropdown.open(),t.data.dropdown.setTimeFocus(t.timeStamp)}function n(t){t.data.dropdown.$dropdown.hasClass("dropdown_keeping-focus")?t.data.dropdown.$dropdown.removeClass("dropdown_keeping-focus"):(t.data.dropdown.isRollbackable()&&t.data.dropdown.rollback(),t.data.dropdown.close())}function r(t){const a=t.data.dropdown.getCommonValue();t.data.dropdown.$dropdown__value.text(a),t.data.dropdown.$dropdown__buttons.each(((s,o)=>{const d=e()(o);d.hasClass("js-dropdown__button_action_clear")?a===t.data.dropdown.defaultValue?d.prop("disabled",!0):d.prop("disabled",!1):t.data.dropdown.isRollbackable()?d.prop("disabled",!1):d.prop("disabled",!0)}))}function i(t){Math.abs(t.timeStamp-t.data.dropdown.timeFocus)<50||(t.data.dropdown.$dropdown.hasClass("dropdown_open")?t.data.dropdown.close():t.data.dropdown.open())}function p(t){const a=e()(".js-dropdown__quantity",e()(t.delegateTarget)),s=e()(t.target);let o=parseInt(a.val(),10);s.hasClass("js-dropdown__counter-button_action_plus")?o+=1:o-=1,o>0&&o<99&&(t.data.dropdown.$dropdown.addClass("dropdown_keeping-focus"),s.addClass("js-dropdown__counter-button_pressed")),a.val(o).trigger("input")}function c(t){const a=e()(t.target);a.hasClass("js-dropdown__counter-button_pressed")&&(a.removeClass("js-dropdown__counter-button_pressed"),t.data.dropdown.$dropdown.trigger("focus"))}function l({value:t=0,cases:a="units"}={}){if(0===t)return"";let[,s,o,e]=a.split(" ");void 0===s&&(s=a),void 0===o&&(o=s),void 0===e&&(e=o);const d=t%100,n=t%10;return d>4&&d<21||n>4||0===n?`${t} ${e}`:1===n?`${t} ${s}`:`${t} ${o}`}function u(t){const a=e()(t.delegateTarget),s=parseInt(e()(t.target).val(),10);e()(".js-dropdown__counter-button",a).each(((t,a)=>{const o=e()(a);o.hasClass("js-dropdown__counter-button_action_plus")?s<99?o.prop("disabled",!1):o.prop("disabled",!0):s>0?o.prop("disabled",!1):o.prop("disabled",!0)})),a.attr("data-value",l({value:s,cases:a.data("units")})),a.attr("data-quantity",s)}function _(t){t.preventDefault()}function h(t){const a=e()(t.target);if(a.prop("disabled",!0),a.hasClass("js-dropdown__button_action_clear"))return t.data.dropdown.clearSnapshot(),void t.data.dropdown.$dropdown__quantities.each(((t,a)=>{e()(a).val(0).trigger("input")}));t.data.dropdown.takeSnapshot(),t.data.dropdown.close()}class w{#s=[];#o=!1;#e=e()();#d=e()();#t="";#a="42px";constructor(t){this.$dropdown=e()(t),this.defaultValue=t.dataset.defaultValue}init(){this.timeFocus=0,this.$dropdown__value=e()(".js-dropdown__value",this.$dropdown),this.#d=e()(e()(".js-dropdown__item",this.$dropdown).get().reverse()),this.#e=e()(".js-dropdown__down",this.$dropdown),this.$dropdown__quantities=e()(e()(".js-dropdown__quantity",this.$dropdown).get().reverse()),this.$dropdown__buttons=e()(".js-dropdown__button",this.$dropdown),this.#o=this.$dropdown.hasClass("dropdown_guest");let t=51,a=0;this.#d.each(((s,o)=>{const d=e()(o);e()(".js-dropdown__label",d).text(o.dataset.units.split(" ")[0]),e()(".js-dropdown__quantity",d).val(0),t+=37,a+=100,this.#s.push("0")})),this.$dropdown__buttons.length&&(t+=40,a+=100),this.#t=`${t}px`;const s=this.$dropdown.data("z-index");this.#e.css({transition:`height ${a}ms`,height:this.#a,"z-index":()=>2*s-1});const o=this.$dropdown.data("dropdown-name");this.#d.on(`mousedown.dropdown__item.${o}`,".js-dropdown__counter-button",{dropdown:this},p).on(`mouseup.dropdown__item.${o} mouseout.dropdown__item.${o}`,".js-dropdown__counter-button",{dropdown:this},c).on(`input.dropdown__item.${o}`,".js-dropdown__quantity",{dropdown:this},u),e()(".js-dropdown__drop",this.$dropdown).css({transition:`border ${a}ms`,"z-index":()=>2*s}).on(`mousedown.dropdown__drop.${o}`,null,{dropdown:this},i),this.$dropdown.on(`focus.dropdown.${o}`,null,{dropdown:this},d).on(`blur.dropdown.${o}`,null,{dropdown:this},n).on(`input.dropdown.${o}`,null,{dropdown:this},r).on(`mousedown.dropdown.${o}`,".dropdown__quantity",_).on(`mousedown.dropdown.${o}`,".dropdown__button",{dropdown:this},h)}open(){this.$dropdown.addClass("dropdown_open"),this.#e.css("height",this.#t)}close(){this.$dropdown.removeClass("dropdown_open"),this.#e.css("height",this.#a)}isRollbackable(){if(!this.$dropdown.hasClass("dropdown_rollbackable"))return!1;let t=!1;return this.$dropdown__quantities.each(((a,s)=>{this.#s[a]!==e()(s).val()&&(t=!0)})),t}setTimeFocus(t){this.timeFocus=t}getCommonValue(){let t="",a=0;if(this.#o){const t=this.#d.get(0),a=this.#d.get(1);let s=0;a&&(s=parseInt(a.dataset.quantity,10)||0,a.dataset.value=""),t&&(s+=parseInt(t.dataset.quantity,10)||0,t.dataset.value=l({value:s,cases:t.dataset.units}))}return this.#d.each(((s,o)=>{""!==o.dataset.value&&(2===a?t+="...":a<2&&(""===t?t=o.dataset.value:t+=`, ${o.dataset.value}`),a+=1)})),""===t?this.defaultValue:t}takeSnapshot(){this.#d.each(((t,a)=>{this.#s[t]=a.dataset.quantity}))}clearSnapshot(){this.#s.forEach(((t,a)=>{this.#s[a]="0"}))}rollback(){this.$dropdown__quantities.each(((t,a)=>{e()(a).val(this.#s[t]).trigger("input")}))}}e()(".js-dropdown").each(((t,a)=>{new w(a).init()}))},339:(t,a,s)=>{"use strict";var o=s(755),e=s.n(o);function d(t){const a=parseFloat(t.data.$like.attr("data-number"));console.log(a),t.data.$like.hasClass("like_active")?(t.data.$like.removeClass("like_active"),t.data.$like.attr("data-number",""+(a-1)),t.data.$number.text(""+(a-1))):(t.data.$like.addClass("like_active"),t.data.$like.attr("data-number",`${a+1}`),t.data.$number.text(`${a+1}`))}class n{constructor(t){this.$like=e()(t)}init(){this.$like.on("mousedown",null,{$like:this.$like,$number:e()(".js-like__number",this.$like)},d)}}e()(".js-like").each(((t,a)=>{new n(a).init()}))},610:(t,a,s)=>{"use strict";var o=s(755),e=s.n(o);function d(t){var a;a=e()(t.target).val(),String(a).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)?e()(".js-subscription__submit",t.data.subscription.$subscription).prop("disabled",!1):e()(".js-subscription__submit",t.data.subscription.$subscription).prop("disabled",!0)}class n{constructor(t){this.$subscription=e()(t)}init(){e()(".js-subscription__input",this.$subscription).on("input",null,{subscription:this},d)}}e()(".js-subscription").each(((t,a)=>{new n(a).init()}))},718:(t,a,s)=>{const o=s(314);o.keys().forEach(o)},314:(t,a,s)=>{var o={"./android-chrome-192x192.png":50,"./android-chrome-512x512.png":359,"./apple-touch-icon.png":723,"./browserconfig.xml":418,"./favicon-16x16.png":225,"./favicon-32x32.png":916,"./favicon.ico":914,"./mstile-144x144.png":714,"./mstile-150x150.png":443,"./mstile-310x150.png":898,"./mstile-310x310.png":132,"./mstile-70x70.png":809,"./safari-pinned-tab.svg":4,"./site.webmanifest":48};function e(t){var a=d(t);return s(a)}function d(t){if(!s.o(o,t)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return o[t]}e.keys=function(){return Object.keys(o)},e.resolve=d,t.exports=e,e.id=314},50:(t,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>o});const o=s.p+"assets/favicons/android-chrome-192x192.png"},359:(t,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>o});const o=s.p+"assets/favicons/android-chrome-512x512.png"},723:(t,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>o});const o=s.p+"assets/favicons/apple-touch-icon.png"},418:(t,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>o});const o=s.p+"assets/favicons/browserconfig.xml"},225:(t,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>o});const o=s.p+"assets/favicons/favicon-16x16.png"},916:(t,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>o});const o=s.p+"assets/favicons/favicon-32x32.png"},914:(t,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>o});const o=s.p+"assets/favicons/favicon.ico"},714:(t,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>o});const o=s.p+"assets/favicons/mstile-144x144.png"},443:(t,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>o});const o=s.p+"assets/favicons/mstile-150x150.png"},898:(t,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>o});const o=s.p+"assets/favicons/mstile-310x150.png"},132:(t,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>o});const o=s.p+"assets/favicons/mstile-310x310.png"},809:(t,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>o});const o=s.p+"assets/favicons/mstile-70x70.png"},4:(t,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>o});const o=s.p+"assets/favicons/safari-pinned-tab.svg"},48:(t,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>o});const o=s.p+"assets/favicons/site.webmanifest"},187:(t,a,s)=>{"use strict";s(379),s(213),s(485),s(912),s(339),s(610),s(718)}},t=>{var a;a=187,t(t.s=a)}]);
//# sourceMappingURL=Room details.js.map