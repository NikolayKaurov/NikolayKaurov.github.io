(self.webpackChunkNikolayKaurov_github_io=self.webpackChunkNikolayKaurov_github_io||[]).push([[438],{213:(t,a,d)=>{"use strict";var e=d(755),s=d.n(e);function o(t){if(t.data.card.$departure.val()&&t.data.card.$arrival.val()&&parseInt(t.data.card.$adult.val(),10)?t.data.card.$submit.prop("disabled",!1):t.data.card.$submit.prop("disabled",!0),t.data.card.$departure.val()&&t.data.card.$arrival.val()){const a=(Date.parse(t.data.card.$departure.val())-Date.parse(t.data.card.$arrival.val()))/864e5;let d;d=a%10==1&&a%100!=11?" сутки":" суток",t.data.card.$days.text(`${a}${d}`),t.data.card.$totalPrice.text(`${new Intl.NumberFormat("ru-RU").format(a*t.data.card.price)}₽`),t.data.card.$total.text(`${new Intl.NumberFormat("ru-RU").format(a*t.data.card.price+t.data.card.fee+t.data.card.feeAdd-t.data.card.discount)}₽`)}else t.data.card.$days.text("0 суток"),t.data.card.$totalPrice.text("0₽"),t.data.card.$total.text("0₽")}class r{constructor(t){this.$card=s()(t),this.$days=s()(".js-card-details__calc-days",this.$card),this.$totalPrice=s()(".js-card-details__total-price",this.$card),this.$total=s()(".js-card-details__total",this.$card),this.$submit=s()(".js-button__input",this.$card),this.$arrival=s()(".js-datepicker__input_arrival",this.$card),this.$departure=s()(".js-datepicker__input_departure",this.$card),this.$adult=s()(s()(".js-dropdown__quantity",this.$card).get(2)),this.price=parseFloat(t.dataset.price),this.discount=parseFloat(t.dataset.discount),this.fee=parseFloat(t.dataset.fee),this.feeAdd=parseFloat(t.dataset.feeadd)}init(){this.$card.on("input",null,{card:this},o)}}s()(".js-card-details").each(((t,a)=>{new r(a).init()}))},906:(t,a,d)=>{"use strict";var e=d(755),s=d.n(e);function o(t){var a;!Number.isNaN(Date.parse(t.data.card.$birth.val().split(".").reverse().join("-")))&&t.data.card.$birth.val().match(/^\d{2}\.\d{2}\.\d{4}$/)&&t.data.card.$name.val()&&t.data.card.$surname.val()&&(a=t.data.card.$email.val(),String(a).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/))&&t.data.card.$password.val().length>7?t.data.card.$submit.prop("disabled",!1):t.data.card.$submit.prop("disabled",!0)}class r{constructor(t){this.$card=s()(t);const a=s()(".js-text-field__input",this.$card);this.$name=s()(a.get(0)),this.$surname=s()(a.get(1)),this.$birth=s()(a.get(2)),this.$email=s()(a.get(3)),this.$password=s()(a.get(4)),this.$submit=s()(s()(".js-button__input",this.$card).get(0))}init(){this.$card.on("input",null,{card:this},o)}}s()(".js-card-registration").each(((t,a)=>{new r(a).init()}))},929:(t,a,d)=>{"use strict";var e=d(755),s=d.n(e);function o(t){let a=parseInt(t.data.$card.attr("data-slide"),10);a-=1,a<0&&(a=3),t.data.$card.attr("data-slide",a)}function r(t){let a=parseInt(t.data.$card.attr("data-slide"),10);a+=1,a>3&&(a=0),t.data.$card.attr("data-slide",a)}function i(t){t.data.$card.attr("data-slide",parseInt(t.target.dataset.slide,10))}class n{constructor(t){this.$card=s()(t),this.$back=s()(".js-card-room__back",this.$card),this.$forward=s()(".js-card-room__forward",this.$card),this.$nav=s()(".js-card-room__nav",this.$card)}init(){this.$back.on("mousedown",null,{$card:this.$card},o),this.$forward.on("mousedown",null,{$card:this.$card},r),this.$nav.on("mousedown",".js-card-room__nav-item",{$card:this.$card},i)}}s()(".js-card-room").each(((t,a)=>{new n(a).init()}))},554:(t,a,d)=>{"use strict";var e=d(755),s=d.n(e);function o(t){parseInt(t.data.card.$adult.val(),10)&&t.data.card.$arrival.val()&&t.data.card.$departure.val()?t.data.card.$submit.prop("disabled",!1):t.data.card.$submit.prop("disabled",!0)}class r{constructor(t){this.$card=s()(t),this.$arrival=s()(".js-datepicker__input_arrival",this.$card),this.$departure=s()(".js-datepicker__input_departure",this.$card),this.$adult=s()(s()(".js-dropdown__quantity",this.$card).get(2)),this.$submit=s()(".js-button__input",this.$card)}init(){this.$card.on("input",null,{card:this},o)}}s()(".js-card-search").each(((t,a)=>{new r(a).init()}))},378:(t,a,d)=>{"use strict";var e=d(755),s=d.n(e);function o(t){var a;a=t.data.card.$email.val(),String(a).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)&&t.data.card.$password.val().length>7?t.data.card.$submit.prop("disabled",!1):t.data.card.$submit.prop("disabled",!0)}class r{constructor(t){this.$card=s()(t),this.$email=s()(s()(".js-text-field__input",this.$card).get(0)),this.$password=s()(s()(".js-text-field__input",this.$card).get(1)),this.$submit=s()(".js-button__input",this.$card)}init(){this.$card.on("input",null,{card:this},o)}}s()(".js-card-sign").each(((t,a)=>{new r(a).init()}))},379:(t,a,d)=>{"use strict";var e=d(755),s=d.n(e);s()(".js-checkbox").each(((t,a)=>{s()(".js-checkbox__button",s()(a)).each(((t,d)=>{s()(d).attr("id",`${s()(a).data("name")}-${s()(d).data("name")}`),s()(d).attr("name",`${s()(a).data("name")}-${s()(d).data("name")}`),s()(`.js-checkbox__button-label[data-name='${s()(d).data("name")}']`,s()(a)).attr("for",`${s()(a).data("name")}-${s()(d).data("name")}`)}))}))},485:(t,a,d)=>{"use strict";var e=d(755),s=d.n(e);function o(t){const{$datepicker:a}=t.data.datepicker;s()(t.target).addClass("datepicker__expand_open"),t.data.datepicker.open()}function r(t){const{$datepicker:a}=t.data.datepicker;a.hasClass("datepicker_keeping-open")?a.removeClass("datepicker_keeping-open"):(s()(t.target).removeClass("datepicker__expand_open"),t.data.datepicker.close())}function i(t){const{$datepicker:a,$datepicker__down:d}=t.data.datepicker;a.addClass("datepicker_keeping-open"),d.addClass("datepicker__down_pressed")}function n(t){const{$datepicker:a,$datepicker__down:d}=t.data.datepicker;d.hasClass("datepicker__down_pressed")&&(d.removeClass("datepicker__down_pressed"),s()(".datepicker__expand_open",a).trigger("focus"))}class c{#t="129px";#a="0px";constructor(t){this.$datepicker=s()(t)}init(){const t=2*this.$datepicker.data("z-index")-1,a=this.$datepicker.data("name");this.$datepicker__down=s()(".js-datepicker__down",this.$datepicker).css({"z-index":t}).on(`mousedown.datepicker__down.${a}`,null,{datepicker:this},i).on(`mouseup.datepicker__down.${a} mouseout.datepicker__down.${a}`,null,{datepicker:this},n),this.$datepicker.on(`focusin.datepicker.${a}`,".js-datepicker__expand",{datepicker:this},o).on(`focusout.datepicker.${a}`,".js-datepicker__expand",{datepicker:this},r)}open(){this.$datepicker__down.css({height:this.#t,border:"1px solid rgba(31, 32, 65, 0.25)",transition:"height 500ms, border 500ms"})}close(){this.$datepicker__down.css({height:this.#a,border:"0px solid rgba(31, 32, 65, 0)",transition:"height 500ms, border 500ms"})}}s()(".js-datepicker").each(((t,a)=>{new c(a).init()}))},912:(t,a,d)=>{"use strict";var e=d(755),s=d.n(e);function o(t){t.data.dropdown.open(),t.data.dropdown.setTimeFocus(t.timeStamp)}function r(t){t.data.dropdown.$dropdown.hasClass("dropdown_keeping-focus")?t.data.dropdown.$dropdown.removeClass("dropdown_keeping-focus"):(t.data.dropdown.isRollbackable()&&t.data.dropdown.rollback(),t.data.dropdown.close())}function i(t){const a=t.data.dropdown.getCommonValue();t.data.dropdown.$dropdown__value.text(a),t.data.dropdown.$dropdown__buttons.each(((d,e)=>{const o=s()(e);o.hasClass("js-dropdown__button_action_clear")?a===t.data.dropdown.defaultValue?o.prop("disabled",!0):o.prop("disabled",!1):t.data.dropdown.isRollbackable()?o.prop("disabled",!1):o.prop("disabled",!0)}))}function n(t){Math.abs(t.timeStamp-t.data.dropdown.timeFocus)<50||(t.data.dropdown.$dropdown.hasClass("dropdown_open")?t.data.dropdown.close():t.data.dropdown.open())}function c(t){const a=s()(".js-dropdown__quantity",s()(t.delegateTarget)),d=s()(t.target);let e=parseInt(a.val(),10);d.hasClass("js-dropdown__counter-button_action_plus")?e+=1:e-=1,e>0&&e<99&&(t.data.dropdown.$dropdown.addClass("dropdown_keeping-focus"),d.addClass("js-dropdown__counter-button_pressed")),a.val(e).trigger("input")}function p(t){const a=s()(t.target);a.hasClass("js-dropdown__counter-button_pressed")&&(a.removeClass("js-dropdown__counter-button_pressed"),t.data.dropdown.$dropdown.trigger("focus"))}function l({value:t=0,cases:a="units"}={}){if(0===t)return"";let[,d,e,s]=a.split(" ");void 0===d&&(d=a),void 0===e&&(e=d),void 0===s&&(s=e);const o=t%100,r=t%10;return o>4&&o<21||r>4||0===r?`${t} ${s}`:1===r?`${t} ${d}`:`${t} ${e}`}function u(t){const a=s()(t.delegateTarget),d=parseInt(s()(t.target).val(),10);s()(".js-dropdown__counter-button",a).each(((t,a)=>{const e=s()(a);e.hasClass("js-dropdown__counter-button_action_plus")?d<99?e.prop("disabled",!1):e.prop("disabled",!0):d>0?e.prop("disabled",!1):e.prop("disabled",!0)})),a.attr("data-value",l({value:d,cases:a.data("units")})),a.attr("data-quantity",d)}function h(t){t.preventDefault()}function _(t){const a=s()(t.target);if(a.prop("disabled",!0),a.hasClass("js-dropdown__button_action_clear"))return t.data.dropdown.clearSnapshot(),void t.data.dropdown.$dropdown__quantities.each(((t,a)=>{s()(a).val(0).trigger("input")}));t.data.dropdown.takeSnapshot(),t.data.dropdown.close()}class ${#d=[];#e=!1;#s=s()();#o=s()();#t="";#a="42px";constructor(t){this.$dropdown=s()(t),this.defaultValue=t.dataset.defaultValue}init(){this.timeFocus=0,this.$dropdown__value=s()(".js-dropdown__value",this.$dropdown),this.#o=s()(s()(".js-dropdown__item",this.$dropdown).get().reverse()),this.#s=s()(".js-dropdown__down",this.$dropdown),this.$dropdown__quantities=s()(s()(".js-dropdown__quantity",this.$dropdown).get().reverse()),this.$dropdown__buttons=s()(".js-dropdown__button",this.$dropdown),this.#e=this.$dropdown.hasClass("dropdown_guest");let t=51,a=0;this.#o.each(((d,e)=>{const o=s()(e);s()(".js-dropdown__label",o).text(e.dataset.units.split(" ")[0]),s()(".js-dropdown__quantity",o).val(0),t+=37,a+=100,this.#d.push("0")})),this.$dropdown__buttons.length&&(t+=40,a+=100),this.#t=`${t}px`;const d=this.$dropdown.data("z-index");this.#s.css({transition:`height ${a}ms`,height:this.#a,"z-index":()=>2*d-1});const e=this.$dropdown.data("dropdown-name");this.#o.on(`mousedown.dropdown__item.${e}`,".js-dropdown__counter-button",{dropdown:this},c).on(`mouseup.dropdown__item.${e} mouseout.dropdown__item.${e}`,".js-dropdown__counter-button",{dropdown:this},p).on(`input.dropdown__item.${e}`,".js-dropdown__quantity",{dropdown:this},u),s()(".js-dropdown__drop",this.$dropdown).css({transition:`border ${a}ms`,"z-index":()=>2*d}).on(`mousedown.dropdown__drop.${e}`,null,{dropdown:this},n),this.$dropdown.on(`focus.dropdown.${e}`,null,{dropdown:this},o).on(`blur.dropdown.${e}`,null,{dropdown:this},r).on(`input.dropdown.${e}`,null,{dropdown:this},i).on(`mousedown.dropdown.${e}`,".dropdown__quantity",h).on(`mousedown.dropdown.${e}`,".dropdown__button",{dropdown:this},_)}open(){this.$dropdown.addClass("dropdown_open"),this.#s.css("height",this.#t)}close(){this.$dropdown.removeClass("dropdown_open"),this.#s.css("height",this.#a)}isRollbackable(){if(!this.$dropdown.hasClass("dropdown_rollbackable"))return!1;let t=!1;return this.$dropdown__quantities.each(((a,d)=>{this.#d[a]!==s()(d).val()&&(t=!0)})),t}setTimeFocus(t){this.timeFocus=t}getCommonValue(){let t="",a=0;if(this.#e){const t=this.#o.get(0),a=this.#o.get(1);let d=0;a&&(d=parseInt(a.dataset.quantity,10)||0,a.dataset.value=""),t&&(d+=parseInt(t.dataset.quantity,10)||0,t.dataset.value=l({value:d,cases:t.dataset.units}))}return this.#o.each(((d,e)=>{""!==e.dataset.value&&(2===a?t+="...":a<2&&(""===t?t=e.dataset.value:t+=`, ${e.dataset.value}`),a+=1)})),""===t?this.defaultValue:t}takeSnapshot(){this.#o.each(((t,a)=>{this.#d[t]=a.dataset.quantity}))}clearSnapshot(){this.#d.forEach(((t,a)=>{this.#d[a]="0"}))}rollback(){this.$dropdown__quantities.each(((t,a)=>{s()(a).val(this.#d[t]).trigger("input")}))}}s()(".js-dropdown").each(((t,a)=>{new $(a).init()}))},877:(t,a,d)=>{"use strict";var e=d(755),s=d.n(e);s()(".js-radio").each(((t,a)=>{s()(".js-radio__button",s()(a)).each(((t,d)=>{s()(d).attr("id",`${s()(a).data("name")}-${s()(d).data("name")}`),s()(d).attr("name",`${s()(a).data("name")}`),s()(`.js-radio__button-label[data-name='${s()(d).data("name")}']`,s()(a)).attr("for",`${s()(a).data("name")}-${s()(d).data("name")}`)}))}))},234:(t,a,d)=>{"use strict";var e=d(755),s=d.n(e);function o(t){const a=s()(t.target).val();(t.key<"0"||t.key>"9"||a.match(/^\d{2}\.\d{2}\.\d{4}$/)||"0"===a&&"0"===t.key||a.match(/^\d{2}.0$/)&&"0"===t.key)&&"Backspace"!==t.key&&"Tab"!==t.key?t.preventDefault():a.match(/^\d{2}\.\d$/)&&"Backspace"===t.key?s()(t.target).val(a.replace(/\./,"")):a.match(/^\d{2}\.\d{2}\.\d$/)&&"Backspace"===t.key?s()(t.target).val(a.replace(/\.(?=\d$)/,"")):""===a&&t.key>="4"&&t.key<="9"?s()(t.target).val("0"):"3"===a&&t.key>="2"&&t.key<="9"?s()(t.target).val("03.0"):a.match(/^\d{2}$/)&&t.key>="2"&&t.key<="9"?s()(t.target).val(`${a}.0`):a.match(/^\d{2}$/)&&t.key>="0"&&t.key<="1"?s()(t.target).val(`${a}.`):a.match(/^\d{2}\.1$/)&&t.key>="3"&&t.key<="9"?s()(t.target).val(`${a.replace(/\.1$/,".01.19")}`):a.match(/^\d{2}\.\d{2}$/)&&t.key>="1"&&t.key<="2"?s()(t.target).val(`${a}.`):a.match(/^\d{2}\.\d{2}$/)&&t.key>="3"&&t.key<="9"?s()(t.target).val(`${a}.19`):a.match(/^\d{2}\.\d{2}$/)&&"0"===t.key?s()(t.target).val(`${a}.20`):a.match(/^\d{2}\.\d{2}\.1$/)&&t.key>="0"&&t.key<="8"?s()(t.target).val(`${a.replace(/\.1$/,".201")}`):a.match(/^\d{2}\.\d{2}\.2$/)&&t.key>="1"&&t.key<="9"&&s()(t.target).val(`${a.replace(/\.2$/,".202")}`)}function r(t){const a=s()(t.target).val();t.data.textField.$input_double.attr("placeholder",function(t){const a="ДД.ММ.ГГГГ".split("");return t.split("").forEach(((t,d)=>{a[d]=t})),a.join("")}(a)),a.match(/^(\d{1,2}|\d{2}\.\d{0,2}|\d{2}\.\d{2}\.\d{0,3})?$/)||a.match(/^\d{2}\.\d{2}\.\d{4}$/)&&!Number.isNaN(Date.parse(a.split(".").reverse().join("-")))?t.data.textField.$textField.removeClass("text-field_invalid"):t.data.textField.$textField.addClass("text-field_invalid")}function i(t){const a=s()(t.target).val();a.match(/^\d{2}\.\d{2}\.\d{4}$/)&&!Number.isNaN(Date.parse(a.split(".").reverse().join("-")))||""===a?t.data.textField.$textField.removeClass("text-field_invalid"):t.data.textField.$textField.addClass("text-field_invalid")}class n{constructor(t){this.$textField=s()(t),this.$input=s()(".js-text-field__input",this.$textField),this.$input_double=s()()}init(){this.$input.attr("placeholder",""),this.$input.on("keydown",null,{textField:this},o).on("input",null,{textField:this},r).on("change",null,{textField:this},i),s()(".js-text-field__wrapper",this.$textField).append('<input\n        class="js-text-field__input js-text-field__input_double text-field__input text-field__input_double"\n        disabled\n        placeholder="ДД.ММ.ГГГГ"\n      >'),this.$input_double=s()(".js-text-field__input_double",this.$textField)}}s()(".js-text-field").each(((t,a)=>{if(s()(a).hasClass("js-text-field_date")){new n(a).init()}}))},718:(t,a,d)=>{const e=d(314);e.keys().forEach(e)},314:(t,a,d)=>{var e={"./android-chrome-192x192.png":50,"./android-chrome-512x512.png":359,"./apple-touch-icon.png":723,"./browserconfig.xml":418,"./favicon-16x16.png":225,"./favicon-32x32.png":916,"./favicon.ico":914,"./mstile-144x144.png":714,"./mstile-150x150.png":443,"./mstile-310x150.png":898,"./mstile-310x310.png":132,"./mstile-70x70.png":809,"./safari-pinned-tab.svg":4,"./site.webmanifest":48};function s(t){var a=o(t);return d(a)}function o(t){if(!d.o(e,t)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e[t]}s.keys=function(){return Object.keys(e)},s.resolve=o,t.exports=s,s.id=314},50:(t,a,d)=>{"use strict";d.r(a),d.d(a,{default:()=>e});const e=d.p+"assets/favicons/android-chrome-192x192.png"},359:(t,a,d)=>{"use strict";d.r(a),d.d(a,{default:()=>e});const e=d.p+"assets/favicons/android-chrome-512x512.png"},723:(t,a,d)=>{"use strict";d.r(a),d.d(a,{default:()=>e});const e=d.p+"assets/favicons/apple-touch-icon.png"},418:(t,a,d)=>{"use strict";d.r(a),d.d(a,{default:()=>e});const e=d.p+"assets/favicons/browserconfig.xml"},225:(t,a,d)=>{"use strict";d.r(a),d.d(a,{default:()=>e});const e=d.p+"assets/favicons/favicon-16x16.png"},916:(t,a,d)=>{"use strict";d.r(a),d.d(a,{default:()=>e});const e=d.p+"assets/favicons/favicon-32x32.png"},914:(t,a,d)=>{"use strict";d.r(a),d.d(a,{default:()=>e});const e=d.p+"assets/favicons/favicon.ico"},714:(t,a,d)=>{"use strict";d.r(a),d.d(a,{default:()=>e});const e=d.p+"assets/favicons/mstile-144x144.png"},443:(t,a,d)=>{"use strict";d.r(a),d.d(a,{default:()=>e});const e=d.p+"assets/favicons/mstile-150x150.png"},898:(t,a,d)=>{"use strict";d.r(a),d.d(a,{default:()=>e});const e=d.p+"assets/favicons/mstile-310x150.png"},132:(t,a,d)=>{"use strict";d.r(a),d.d(a,{default:()=>e});const e=d.p+"assets/favicons/mstile-310x310.png"},809:(t,a,d)=>{"use strict";d.r(a),d.d(a,{default:()=>e});const e=d.p+"assets/favicons/mstile-70x70.png"},4:(t,a,d)=>{"use strict";d.r(a),d.d(a,{default:()=>e});const e=d.p+"assets/favicons/safari-pinned-tab.svg"},48:(t,a,d)=>{"use strict";d.r(a),d.d(a,{default:()=>e});const e=d.p+"assets/favicons/site.webmanifest"},841:(t,a,d)=>{"use strict";d(554),d(485),d(912),d(906),d(234),d(877),d(379),d(213),d(378),d(929),d(718)}},t=>{var a;a=841,t(t.s=a)}]);
//# sourceMappingURL=Cards.js.map