(self.webpackChunkNikolayKaurov_github_io=self.webpackChunkNikolayKaurov_github_io||[]).push([[647],{554:(e,t,a)=>{"use strict";var d=a(755),r=a.n(d);function i(e){parseInt(e.data.card.$adult.val(),10)&&e.data.card.$arrival.val()&&e.data.card.$departure.val()?e.data.card.$submit.prop("disabled",!1):e.data.card.$submit.prop("disabled",!0)}class s{constructor(e){this.$card=r()(e),this.$arrival=r()(".js-datepicker__input_arrival",this.$card),this.$departure=r()(".js-datepicker__input_departure",this.$card),this.$adult=r()(r()(".js-dropdown__quantity",this.$card).get(2)),this.$submit=r()(".js-button__input",this.$card)}init(){this.$card.on("input",null,{card:this},i)}}r()(".js-card-search").each(((e,t)=>{new s(t).init()}))},379:(e,t,a)=>{"use strict";var d=a(755),r=a.n(d);r()(".js-checkbox").each(((e,t)=>{r()(".js-checkbox__button",r()(t)).each(((e,a)=>{r()(a).attr("id",`${r()(t).data("name")}-${r()(a).data("name")}`),r()(a).attr("name",`${r()(t).data("name")}-${r()(a).data("name")}`),r()(`.js-checkbox__button-label[data-name='${r()(a).data("name")}']`,r()(t)).attr("for",`${r()(t).data("name")}-${r()(a).data("name")}`)}))}))},485:(e,t,a)=>{"use strict";var d=a(755),r=a.n(d);const i=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],s=["янв","фев","мар","апр","мая","июн","июл","авг","сен","окт","ноя","дек"];function o(e){return`${e[8]}${e[9]}.${e[5]}${e[6]}.${e[0]}${e[1]}${e[2]}${e[3]}`}function n(e){r()(e.delegateTarget).hasClass("js-datepicker__expand_arrival")?e.data.datepicker.setActiveDate("arrival"):r()(e.delegateTarget).hasClass("js-datepicker__expand_departure")&&e.data.datepicker.setActiveDate("departure"),Math.abs(e.timeStamp-e.data.datepicker.timeFocus)<50||r()(e.delegateTarget).toggleClass("datepicker__expand_open")}function p(e){r()(e.delegateTarget).hasClass("js-datepicker__expand_arrival")?e.data.datepicker.setActiveDate("arrival"):r()(e.delegateTarget).hasClass("js-datepicker__expand_departure")&&e.data.datepicker.setActiveDate("departure"),r()(e.delegateTarget).removeClass("datepicker__expand_keeping-focus"),e.data.datepicker.setTimeFocus(e.timeStamp),r()(e.delegateTarget).addClass("datepicker__expand_open")}function c(e){r()(e.delegateTarget).hasClass("datepicker__expand_keeping-focus")?r()(e.delegateTarget).removeClass("datepicker__expand_keeping-focus"):r()(e.delegateTarget).removeClass("datepicker__expand_open")}function _(e){9===e.which&&(e.data.datepicker.$datepicker__expand_departure.addClass("datepicker__expand_open"),r()(".datepicker__cell_highlight",e.data.datepicker.$datepicker__calendar).removeClass("datepicker__cell_highlight"))}function l(e){e.data.datepicker.$datepicker.hasClass("datepicker_open")&&("arrival"===e.data.datepicker.activeDate&&e.data.datepicker.$datepicker__expand_arrival.hasClass("datepicker__expand_open")?e.data.datepicker.$datepicker__expand_arrival.addClass("datepicker__expand_keeping-focus"):"departure"===e.data.datepicker.activeDate&&e.data.datepicker.$datepicker__expand_departure.hasClass("datepicker__expand_open")?e.data.datepicker.$datepicker__expand_departure.addClass("datepicker__expand_keeping-focus"):"both"===e.data.datepicker.activeDate&&e.data.datepicker.$datepicker__expand_filter.hasClass("datepicker__expand_open")&&e.data.datepicker.$datepicker__expand_filter.addClass("datepicker__expand_keeping-focus")),e.data.datepicker.$datepicker__expands.hasClass("datepicker__expand_open")?e.data.datepicker.open():e.data.datepicker.close(),e.data.datepicker.$datepicker.addClass("datepicker_pressed")}function h(e){e.data.datepicker.$datepicker__expands.hasClass("datepicker__expand_open")&&e.data.datepicker.open()}function u(e){e.data.datepicker.$datepicker__expands.hasClass("datepicker__expand_open")||(e.data.datepicker.close(),e.data.datepicker.demo||e.data.datepicker.$datepicker.hasClass("datepicker_confirmed")||(e.data.datepicker.rollback(),e.data.datepicker.$datepicker__calendar.html(e.data.datepicker.getCalendarHTMLandSetCalendarHeight())))}function k(e){e.data.datepicker.$datepicker.hasClass("datepicker_pressed")&&("arrival"===e.data.datepicker.activeDate&&e.data.datepicker.$datepicker__expand_arrival.hasClass("datepicker__expand_open")?e.data.datepicker.$datepicker__expand_arrival.trigger("focus"):"departure"===e.data.datepicker.activeDate&&e.data.datepicker.$datepicker__expand_departure.hasClass("datepicker__expand_open")?e.data.datepicker.$datepicker__expand_departure.trigger("focus"):"both"===e.data.datepicker.activeDate&&e.data.datepicker.$datepicker__expand_filter.hasClass("datepicker__expand_open")&&e.data.datepicker.$datepicker__expand_filter.trigger("focus")),e.data.datepicker.$datepicker.removeClass("datepicker_pressed")}function $(e){if(r()(e.target).hasClass("js-datepicker__button_action_confirm"))return e.data.datepicker.$datepicker.addClass("datepicker_confirmed"),e.data.datepicker.takeSnapshot(),e.data.datepicker.$datepicker__expands.removeClass("datepicker__expand_open"),void e.data.datepicker.$datepicker.trigger("input");r()(e.target).hasClass("js-datepicker__button_action_month-plus")?e.data.datepicker.calendarMonth.setMonth(e.data.datepicker.calendarMonth.getMonth()+1):r()(e.target).hasClass("js-datepicker__button_action_month-minus")&&e.data.datepicker.calendarMonth>e.data.datepicker.todayMonth?e.data.datepicker.calendarMonth.setMonth(e.data.datepicker.calendarMonth.getMonth()-1):r()(e.target).hasClass("js-datepicker__button_action_clear")&&(e.data.datepicker.updateDate({date:"arrival",value:""}),e.data.datepicker.updateDate({date:"departure",value:""}),e.data.datepicker.clearSnapshot(),e.data.datepicker.calendarMonth.setFullYear(e.data.datepicker.todayMonth.getFullYear(),e.data.datepicker.todayMonth.getMonth()),e.data.datepicker.$datepicker.trigger("input")),e.data.datepicker.updateCalendar()}function w(e){if(r()(e.target).hasClass("datepicker__cell_selected"))return;const t=new Date(e.target.dataset.date);t.setHours(0,0,0),"arrival"===e.data.datepicker.activeDate?e.data.datepicker.$datepicker__input_departure.val()?t<e.data.datepicker.departureDate&&t.getTime()>=e.data.datepicker.today.getTime()&&r()(e.target).addClass("datepicker__cell_highlight"):t.getTime()>=e.data.datepicker.today.getTime()&&r()(e.target).addClass("datepicker__cell_highlight"):"departure"===e.data.datepicker.activeDate?e.data.datepicker.$datepicker__input_arrival.val()?t>e.data.datepicker.arrivalDate&&r()(e.target).addClass("datepicker__cell_highlight"):t>e.data.datepicker.today&&r()(e.target).addClass("datepicker__cell_highlight"):t.getTime()>=e.data.datepicker.today.getTime()&&r()(e.target).addClass("datepicker__cell_highlight")}function g(e){r()(e.target).removeClass("datepicker__cell_highlight")}function m(e){if(r()(e.target).hasClass("datepicker__cell_highlight")&&!r()(e.target).hasClass("datepicker__cell_selected")){if("arrival"===e.data.datepicker.activeDate)e.data.datepicker.updateDate({date:"arrival",value:e.target.dataset.date}),e.data.datepicker.setActiveDate("departure"),e.data.datepicker.$datepicker__expand_arrival.removeClass("datepicker__expand_open"),e.data.datepicker.$datepicker__expand_departure.addClass("datepicker__expand_open");else if("departure"===e.data.datepicker.activeDate)e.data.datepicker.updateDate({date:"departure",value:e.target.dataset.date}),e.data.datepicker.setActiveDate("arrival"),e.data.datepicker.$datepicker__expand_departure.removeClass("datepicker__expand_open"),e.data.datepicker.$datepicker__expand_arrival.addClass("datepicker__expand_open");else{const t=new Date(e.target.dataset.date);t.setHours(0,0,0),""===e.data.datepicker.lastSelectedDate?(e.data.datepicker.updateDate({date:"arrival",value:e.target.dataset.date}),e.data.datepicker.setLastSelectedDate("arrival")):"departure"===e.data.datepicker.lastSelectedDate?t<e.data.datepicker.departureDate?(e.data.datepicker.updateDate({date:"arrival",value:e.target.dataset.date}),e.data.datepicker.setLastSelectedDate("arrival")):(e.data.datepicker.updateDate({date:"arrival",value:e.data.datepicker.$datepicker__input_departure.val()}),e.data.datepicker.updateDate({date:"departure",value:e.target.dataset.date}),e.data.datepicker.setLastSelectedDate("departure")):t>e.data.datepicker.arrivalDate?(e.data.datepicker.updateDate({date:"departure",value:e.target.dataset.date}),e.data.datepicker.setLastSelectedDate("departure")):(e.data.datepicker.updateDate({date:"departure",value:e.data.datepicker.$datepicker__input_arrival.val()}),e.data.datepicker.updateDate({date:"arrival",value:e.target.dataset.date}),e.data.datepicker.setLastSelectedDate("arrival"))}e.data.datepicker.$datepicker__calendar.html(e.data.datepicker.getCalendarHTMLandSetCalendarHeight())}}class v{constructor(e){this.$datepicker=r()(e),this.$datepicker__input_arrival=r()(".js-datepicker__input_arrival",this.$datepicker),this.$datepicker__input_departure=r()(".js-datepicker__input_departure",this.$datepicker),this.$datepicker__drop=r()(".js-datepicker__drop",this.$datepicker),this.$datepicker__down=r()(".js-datepicker__down",this.$datepicker),this.$datepicker__expands=r()(".js-datepicker__expand",this.$datepicker__drop),this.$datepicker__expand_arrival=r()(".js-datepicker__expand_arrival",this.$datepicker__drop),this.$datepicker__expand_departure=r()(".js-datepicker__expand_departure",this.$datepicker__drop),this.$datepicker__expand_filter=r()(".js-datepicker__expand_filter",this.$datepicker__drop),this.$datepicker__monthYear=r()(".js-datepicker__month-year",this.$datepicker__down),this.$datepicker__calendar=r()(".js-datepicker__calendar",this.$datepicker__down),this.$datepicker__buttons=r()(".js-datepicker__button",this.$datepicker__down),this.name=e.dataset.name,this.zIndex=2*e.dataset.zIndex-1,this.calendarHeight=129,this.$datepicker.hasClass("js-datepicker_filter")?this.rowCalendarHeight=32:this.rowCalendarHeight=40,this.demo=this.$datepicker.hasClass("js-datepicker_demo"),this.timeFocus=0,this.activeDate="both",this.lastSelectedDate="",this.confirmedLastSelectedDate="",this.arrivalDate=new Date(0),this.departureDate=new Date(0),this.confirmedArrival="",this.confirmedDeparture="";const t=new Date;this.today=new Date(t.getFullYear(),t.getMonth(),t.getDate()),this.todayMonth=new Date(t.getFullYear(),t.getMonth()),this.calendarMonth=new Date(t.getFullYear(),t.getMonth())}init(){this.$datepicker__monthYear.text(`${i[this.calendarMonth.getMonth()]} ${this.calendarMonth.getFullYear()}`);const e=this.getCalendarHTMLandSetCalendarHeight();this.demo&&this.setCalendarHeight(),this.$datepicker__calendar.html(e),this.updateDate({date:"arrival",value:""}),this.updateDate({date:"departure",value:""}),this.$datepicker__expands.on(`mousedown.datepicker__expand.${this.name}`,null,{datepicker:this},n),this.$datepicker__expand_arrival.on(`keydown.datepicker__expand_arrival.${this.name}`,null,{datepicker:this},_),this.$datepicker__expands.on(`focusin.datepicker__expand.${this.name}`,null,{datepicker:this},p),this.$datepicker__expands.on(`focusout.datepicker__expand.${this.name}`,null,{},c),this.$datepicker.on(`mousedown.datepicker.${this.name}`,null,{datepicker:this},l),this.$datepicker.on(`focusin.datepicker.${this.name}`,null,{datepicker:this},h),this.$datepicker.on(`focusout.datepicker.${this.name}`,null,{datepicker:this},u),this.$datepicker.on(`mouseup.datepicker.${this.name} mouseout.datepicker.${this.name}`,null,{datepicker:this},k),this.$datepicker__buttons.on(`mousedown.datepicker__button.${this.name}`,null,{datepicker:this},$),this.$datepicker__calendar.on(`mouseover.datepicker__calendar.${this.name}`,"td",{datepicker:this},w),this.$datepicker__calendar.on(`mouseout.datepicker__calendar.${this.name}`,"td",{datepicker:this},g),this.$datepicker__calendar.on(`mousedown.datepicker__calendar.${this.name}`,"td",{datepicker:this},m)}setTimeFocus(e){this.timeFocus=e}setActiveDate(e){this.activeDate=e}setLastSelectedDate(e){this.lastSelectedDate=e}open(){this.$datepicker.hasClass("datepicker_open")||(this.$datepicker.addClass("datepicker_open"),this.$datepicker__down.css({height:`${this.calendarHeight}px`,border:"1px solid rgba(31, 32, 65, 0.25)",transition:"height 500ms, border 500ms","z-index":this.zIndex}))}close(){this.demo||(this.$datepicker.removeClass("datepicker_open"),this.$datepicker__down.css({height:0,border:"0px solid rgba(31, 32, 65, 0)",transition:"height 500ms, border 500ms","z-index":this.zIndex}))}setCalendarHeight(){this.$datepicker__down.css({height:`${this.calendarHeight}px`,border:"1px solid rgba(31, 32, 65, 0.25)",transition:"height 0ms, border 0ms","z-index":this.zIndex})}getCalendarHTMLandSetCalendarHeight(){const e=new Date(this.calendarMonth.getFullYear(),this.calendarMonth.getMonth()),t=e.getDay()?e.getDay()-1:6;e.setDate(e.getDate()-t),this.calendarHeight=129+this.rowCalendarHeight;let a='<tr class="datepicker__calendar-header"><th class="datepicker__cell">Пн</th><th class="datepicker__cell">Вт</th><th class="datepicker__cell">Ср</th><th class="datepicker__cell">Чт</th><th class="datepicker__cell">Пт</th><th class="datepicker__cell">Сб</th><th class="datepicker__cell">Вс</th></tr>';do{this.calendarHeight+=this.rowCalendarHeight,a+='<tr class="datepicker__row">';for(let t=0;t<7;t+=1){let d="",r="";e.getTime()===this.arrivalDate.getTime()?(d+=" datepicker__cell_selected",t<6&&this.$datepicker__input_departure.val()&&(r='<div class="datepicker__cell-period datepicker__cell-period_arrival"></div>')):this.arrivalDate<e&&e<this.departureDate?r=0===t?'<div class="datepicker__cell-period datepicker__cell-period_monday"></div>':6===t?'<div class="datepicker__cell-period datepicker__cell-period_sunday"></div>':'<div class="datepicker__cell-period"></div>':e.getTime()===this.departureDate.getTime()?(d+=" datepicker__cell_selected",t>0&&this.$datepicker__input_arrival.val()&&(r='<div class="datepicker__cell-period datepicker__cell-period_departure"></div>')):e.getTime()===this.today.getTime()&&(d+=" datepicker__cell_today"),e.getMonth()!==this.calendarMonth.getMonth()&&(d+=" datepicker__cell_other-month");const i=e.getMonth()<9?"0":"",s=e.getDate()<10?"0":"";a+=`<td class="datepicker__cell${d}" data-date="${e.getFullYear()}-${i}${e.getMonth()+1}-${s}${e.getDate()}">${e.getDate()}${r}</td>`,e.setDate(e.getDate()+1)}a+="</tr>"}while(e.getMonth()===this.calendarMonth.getMonth());return a}updateCalendar(){this.$datepicker__monthYear.text(`${i[this.calendarMonth.getMonth()]} ${this.calendarMonth.getFullYear()}`);const e=this.getCalendarHTMLandSetCalendarHeight();this.setCalendarHeight(),this.$datepicker__calendar.html(e)}updateDate({date:e="",value:t=""}={date:"",value:""}){"arrival"===e?(this.arrivalDate.setTime(Date.parse(t)),this.arrivalDate.setHours(0,0,0),this.$datepicker__input_arrival.val(t),t?r()(".js-datepicker__value",this.$datepicker__expand_arrival).text(o(t)):r()(".js-datepicker__value",this.$datepicker__expand_arrival).text("ДД.ММ.ГГГГ"),this.$datepicker__input_arrival.removeClass("datepicker__input_confirmed")):"departure"===e&&(this.departureDate.setTime(Date.parse(t)),this.departureDate.setHours(0,0,0),this.$datepicker__input_departure.val(t),t?r()(".js-datepicker__value",this.$datepicker__expand_departure).text(o(t)):r()(".js-datepicker__value",this.$datepicker__expand_departure).text("ДД.ММ.ГГГГ"),this.$datepicker__input_departure.removeClass("datepicker__input_confirmed")),"both"===this.activeDate&&(this.$datepicker__input_arrival.val()&&this.$datepicker__input_departure.val()?r()(".js-datepicker__value",this.$datepicker__expand_filter).text(`${this.arrivalDate.getDate()} ${s[this.arrivalDate.getMonth()]} - ${this.departureDate.getDate()} ${s[this.departureDate.getMonth()]}`):this.$datepicker__input_arrival.val()?r()(".js-datepicker__value",this.$datepicker__expand_filter).text(`${this.arrivalDate.getDate()} ${s[this.arrivalDate.getMonth()]}`):this.$datepicker__input_departure.val()?r()(".js-datepicker__value",this.$datepicker__expand_filter).text(`${this.departureDate.getDate()} ${s[this.departureDate.getMonth()]}`):r()(".js-datepicker__value",this.$datepicker__expand_filter).text("Укажите даты пребывания")),this.$datepicker.removeClass("datepicker_confirmed")}takeSnapshot(){this.confirmedArrival=this.$datepicker__input_arrival.val(),this.confirmedDeparture=this.$datepicker__input_departure.val(),this.confirmedLastSelectedDate=this.lastSelectedDate}clearSnapshot(){this.confirmedArrival="",this.confirmedDeparture="",this.confirmedLastSelectedDate=""}rollback(){this.updateDate({date:"arrival",value:this.confirmedArrival}),this.updateDate({date:"departure",value:this.confirmedDeparture}),this.lastSelectedDate=this.confirmedLastSelectedDate,this.$datepicker.trigger("input")}}r()(".js-datepicker").each(((e,t)=>{new v(t).init()}))},655:(e,t,a)=>{"use strict";var d=a(755),r=a.n(d);function i(e){r()(e.target).prop("disabled",!0),r()(e.target).hasClass("js-dropdown__button_action_clear")?e.data.$dropdown.trigger("clear"):r()(e.target).hasClass("js-dropdown__button_action_confirm")&&e.data.$dropdown.trigger("confirm")}class s{constructor(e){this.$dropdown__button=r()(e),this.dropdownName=e.dataset.dropdownName,this.$dropdown=r()(`.js-dropdown[data-dropdown-name="${this.dropdownName}"]`)}init(){this.$dropdown__button.hasClass("js-dropdown__button_action_confirm")&&this.$dropdown.addClass("dropdown_rollback"),this.$dropdown__button.on(`mousedown.dropdown__button.${this.dropdownName}`,null,{$dropdown:this.$dropdown},i)}}r()(".js-dropdown__button").each(((e,t)=>{new s(t).init()}))},178:(e,t,a)=>{"use strict";var d=a(755),r=a.n(d),i=a(912);function s(e){let t=parseInt(e.data.$dropdown__quantity.val(),10);r()(e.target).hasClass("js-dropdown__counter-button_action_plus")?(t+=1,t<99&&(e.data.$dropdown.addClass("dropdown_keeping-focus"),r()(e.target).addClass("js-dropdown__counter-button_pressed"))):(t-=1,t>0&&(e.data.$dropdown.addClass("dropdown_keeping-focus"),r()(e.target).addClass("js-dropdown__counter-button_pressed"))),e.data.$dropdown__quantity.val(t),e.data.$dropdown__quantity.trigger("input")}function o(e){r()(e.target).hasClass("js-dropdown__counter-button_pressed")&&(r()(e.target).removeClass("js-dropdown__counter-button_pressed"),e.data.$dropdown.trigger("focus"))}function n(e){const t=parseInt(r()(e.target).val(),10);e.data.dropdown__item.$dropdown__counterButtons.each(((e,a)=>{r()(a).hasClass("js-dropdown__counter-button_action_plus")?t<99?r()(a).prop("disabled",!1):r()(a).prop("disabled",!0):t>0?r()(a).prop("disabled",!1):r()(a).prop("disabled",!0)})),e.data.dropdown__item.$dropdown__item.attr("data-value",(0,i.c)({value:t,cases:e.data.dropdown__item.units})),e.data.dropdown__item.$dropdown__item.attr("data-quantity",t)}function p(e){e.preventDefault()}function c(e,t){e.data.dropdown__item.$dropdown__quantity.val(t),e.data.dropdown__item.$dropdown__quantity.triggerHandler("input")}class _{constructor(e){this.$dropdown__item=r()(e),this.name=`${e.dataset.dropdownName}-${e.dataset.itemName}`,this.units=e.dataset.units,this.$dropdown=r()(`.js-dropdown[data-dropdown-name="${e.dataset.dropdownName}"]`),this.$dropdown__label=r()(".js-dropdown__label",this.$dropdown__item),this.$dropdown__counterButtons=r()(".js-dropdown__counter-button",this.$dropdown__item),this.$dropdown__quantity=r()(".js-dropdown__quantity",this.$dropdown__item)}init(){this.$dropdown__item.attr("data-value",""),this.$dropdown__item.attr("data-quantity",0),this.$dropdown__quantity.attr("name",this.name),this.$dropdown__label.text(this.units.split(" ")[0]),this.$dropdown__quantity.val("0"),r()(".js-dropdown__counter-button_action_minus",this.$dropdown__item).prop("disabled",!0),this.$dropdown__counterButtons.on(`mousedown.dropdown__counter-button.${this.name}`,null,{$dropdown:this.$dropdown,$dropdown__quantity:this.$dropdown__quantity},s),this.$dropdown__counterButtons.on(`mouseup.dropdown__counter-button.${this.name} mouseout.dropdown__counter-button.${this.name}`,null,{$dropdown:this.$dropdown},o),this.$dropdown__quantity.on(`input.dropdown__quantity.${this.name}`,null,{dropdown__item:this},n),this.$dropdown__quantity.on(`mousedown.dropdown__quantity.${this.name}`,null,{dropdown__item:this},p),this.$dropdown__item.on(`setValue.dropdown__quantity.${this.name}`,null,{dropdown__item:this},c)}}r()(".js-dropdown__item").each(((e,t)=>{new _(t).init()}))},490:(e,t,a)=>{"use strict";var d=a(755),r=a.n(d),i=a(912);class s extends i.L{getCommonValue(){const e=this.$dropdown__items.get(0),t=this.$dropdown__items.get(1);let a=0;return t&&(a=parseInt(t.dataset.quantity,10)||0,t.dataset.value=""),e&&(a+=parseInt(e.dataset.quantity,10)||0,e.dataset.value=(0,i.c)({value:a,cases:e.dataset.units})),super.getCommonValue()}}r()(".js-dropdown_guests").each(((e,t)=>{new s(t).init(),console.log("Гости")}))},912:(e,t,a)=>{"use strict";a.d(t,{L:()=>l,c:()=>_});var d=a(755),r=a.n(d);function i(e){e.data.dropdown.$dropdown.addClass("dropdown_open"),e.data.dropdown.$dropdown__down.css("height",e.data.dropdown.openHeight),e.data.dropdown.setTimeFocus(e.timeStamp)}function s(e){e.data.dropdown.$dropdown.hasClass("dropdown_keeping-focus")?e.data.dropdown.$dropdown.removeClass("dropdown_keeping-focus"):(e.data.dropdown.$dropdown.hasClass("dropdown_rollback")&&!e.data.dropdown.$dropdown.hasClass("dropdown_confirmed")&&(e.data.dropdown.rollback(),e.data.dropdown.$dropdown__buttons.each(((t,a)=>{e.data.dropdown.getCommonValue()!==e.data.dropdown.defaultValue&&r()(a).hasClass("js-dropdown__button_action_clear")?r()(a).prop("disabled",!1):r()(a).prop("disabled",!0)}))),e.data.dropdown.$dropdown.removeClass("dropdown_open"),e.data.dropdown.$dropdown__down.css("height",e.data.dropdown.closedHeight))}function o(e){const t=e.data.dropdown.getCommonValue();e.data.dropdown.$dropdown.removeClass("dropdown_confirmed"),e.data.dropdown.$dropdown__value.text(t),e.data.dropdown.$dropdown__buttons.each(((a,d)=>{t===e.data.dropdown.defaultValue&&r()(d).hasClass("js-dropdown__button_action_clear")?r()(d).prop("disabled",!0):r()(d).prop("disabled",!1)}))}function n(e){Math.abs(e.timeStamp-e.data.dropdown.timeFocus)<50||(e.data.dropdown.$dropdown.hasClass("dropdown_open")?(e.data.dropdown.$dropdown.removeClass("dropdown_open"),e.data.dropdown.$dropdown__down.css("height",e.data.dropdown.closedHeight)):(e.data.dropdown.$dropdown.addClass("dropdown_open"),e.data.dropdown.$dropdown__down.css("height",e.data.dropdown.openHeight)))}function p(e){e.data.dropdown.$dropdown__items.each(((e,t)=>{r()(t).trigger("setValue",0)})),e.data.dropdown.$dropdown__value.text(e.data.dropdown.defaultValue),e.data.dropdown.$dropdown.addClass("dropdown_confirmed"),e.data.dropdown.clearSnapshot(),e.data.dropdown.$dropdown__buttons.prop("disabled",!0),e.data.dropdown.$dropdown.trigger("input")}function c(e){e.data.dropdown.takeSnapshot(),e.data.dropdown.$dropdown.addClass("dropdown_confirmed"),e.data.dropdown.$dropdown.removeClass("dropdown_open"),e.data.dropdown.$dropdown__down.css("height",e.data.dropdown.closedHeight)}function _({value:e=0,cases:t="units"}={}){if(0===e)return"";let[,a,d,r]=t.split(" ");void 0===a&&(a=t),void 0===d&&(d=a),void 0===r&&(r=d);const i=e%100,s=e%10;return i>4&&i<21||s>4||0===s?`${e} ${r}`:1===s?`${e} ${a}`:`${e} ${d}`}class l{constructor(e){this.$dropdown=r()(e),this.name=e.dataset.dropdownName,this.zIndex=e.dataset.zIndex,this.defaultValue=e.dataset.defaultValue,this.openHeight="",this.closedHeight="",this.$dropdown__value=r()(".js-dropdown__value",this.$dropdown),this.$dropdown__drop=r()(".js-dropdown__drop",this.$dropdown),this.$dropdown__down=r()(".js-dropdown__down",this.$dropdown),this.$dropdown__items=r()(r()(".js-dropdown__item",this.$dropdown).get().reverse()),this.$dropdown__buttons=r()(".js-dropdown__button",this.$dropdown),this.timeFocus=0,this.rollbackSnapshot=[],console.log("Конструктор")}init(){let e=51,t=0;this.$dropdown__items.each(((a,d)=>{r()(d).attr("data-dropdown-name",this.name),e+=37,t+=100,this.rollbackSnapshot.push("0")})),this.$dropdown__buttons.each(((e,t)=>{r()(t).attr("data-dropdown-name",this.name)})),this.$dropdown__buttons.length&&(e+=40,t+=100),this.openHeight=`${e}px`,this.closedHeight="42px",this.$dropdown__down.css({transition:`height ${t}ms`,height:this.closedHeight,"z-index":()=>2*this.zIndex-1}),this.$dropdown__drop.css({transition:`border ${t}ms`,"z-index":()=>2*this.zIndex}),this.$dropdown__value.text(this.defaultValue),this.$dropdown.on(`focus.dropdown.${this.name}`,null,{dropdown:this},i),this.$dropdown.on(`blur.dropdown.${this.name}`,null,{dropdown:this},s),this.$dropdown.on(`input.dropdown.${this.name}`,null,{dropdown:this},o),this.$dropdown.on(`clear.dropdown.${this.name}`,null,{dropdown:this},p),this.$dropdown.on(`confirm.dropdown.${this.name}`,null,{dropdown:this},c),this.$dropdown__drop.on(`mousedown.dropdown__drop.${this.name}`,null,{dropdown:this},n)}setTimeFocus(e){this.timeFocus=e}getCommonValue(){let e="",t=0;return this.$dropdown__items.each(((a,d)=>{""!==d.dataset.value&&(2===t?e+="...":t<2&&(""===e?e=d.dataset.value:e+=`, ${d.dataset.value}`),t+=1)})),""===e?this.defaultValue:e}takeSnapshot(){this.$dropdown__items.each(((e,t)=>{this.rollbackSnapshot[e]=t.dataset.quantity}))}clearSnapshot(){this.rollbackSnapshot.forEach(((e,t)=>{this.rollbackSnapshot[t]="0"}))}rollback(){this.$dropdown__items.each(((e,t)=>{r()(t).trigger("setValue",this.rollbackSnapshot[e])})),this.$dropdown__value.text(this.getCommonValue()),this.$dropdown.trigger("input")}}r()(".js-dropdown").each(((e,t)=>{if(a=t,!r()(a).attr("class").match(/js-dropdown_[^_]/)){new l(t).init()}var a}))},610:(e,t,a)=>{"use strict";var d=a(755),r=a.n(d);function i(e){var t;t=r()(e.target).val(),String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)?r()(".js-subscription__submit",e.data.subscription.$subscription).prop("disabled",!1):r()(".js-subscription__submit",e.data.subscription.$subscription).prop("disabled",!0)}class s{constructor(e){this.$subscription=r()(e)}init(){r()(".js-subscription__input",this.$subscription).on("input",null,{subscription:this},i)}}r()(".js-subscription").each(((e,t)=>{new s(t).init()}))},718:(e,t,a)=>{const d=a(314);d.keys().forEach(d)},314:(e,t,a)=>{var d={"./android-chrome-192x192.png":50,"./android-chrome-512x512.png":359,"./apple-touch-icon.png":723,"./browserconfig.xml":418,"./favicon-16x16.png":225,"./favicon-32x32.png":916,"./favicon.ico":914,"./mstile-144x144.png":714,"./mstile-150x150.png":443,"./mstile-310x150.png":898,"./mstile-310x310.png":132,"./mstile-70x70.png":809,"./safari-pinned-tab.svg":4,"./site.webmanifest":48};function r(e){var t=i(e);return a(t)}function i(e){if(!a.o(d,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return d[e]}r.keys=function(){return Object.keys(d)},r.resolve=i,e.exports=r,r.id=314},50:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});const d=a.p+"assets/favicons/android-chrome-192x192.png"},359:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});const d=a.p+"assets/favicons/android-chrome-512x512.png"},723:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});const d=a.p+"assets/favicons/apple-touch-icon.png"},418:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});const d=a.p+"assets/favicons/browserconfig.xml"},225:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});const d=a.p+"assets/favicons/favicon-16x16.png"},916:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});const d=a.p+"assets/favicons/favicon-32x32.png"},914:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});const d=a.p+"assets/favicons/favicon.ico"},714:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});const d=a.p+"assets/favicons/mstile-144x144.png"},443:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});const d=a.p+"assets/favicons/mstile-150x150.png"},898:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});const d=a.p+"assets/favicons/mstile-310x150.png"},132:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});const d=a.p+"assets/favicons/mstile-310x310.png"},809:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});const d=a.p+"assets/favicons/mstile-70x70.png"},4:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});const d=a.p+"assets/favicons/safari-pinned-tab.svg"},48:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});const d=a.p+"assets/favicons/site.webmanifest"},408:(e,t,a)=>{"use strict";a(379),a(554),a(485),a(912),a(490),a(610),a(655),a(178),a(718)}},e=>{var t;t=408,e(e.s=t)}]);
//# sourceMappingURL=Landing page.js.map