(self.webpackChunktoxin_hotel=self.webpackChunktoxin_hotel||[]).push([[466],{382:(t,e,s)=>{const i=s(250);i.keys().forEach(i)},250:(t,e,s)=>{var i={"./android-chrome-192x192.png":320,"./android-chrome-512x512.png":641,"./apple-touch-icon.png":879,"./browserconfig.xml":978,"./favicon-16x16.png":435,"./favicon-32x32.png":723,"./favicon.ico":211,"./mstile-144x144.png":833,"./mstile-150x150.png":962,"./mstile-310x150.png":577,"./mstile-310x310.png":811,"./mstile-70x70.png":282,"./safari-pinned-tab.svg":598,"./site.webmanifest":983};function a(t){var e=r(t);return s(e)}function r(t){if(!s.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}a.keys=function(){return Object.keys(i)},a.resolve=r,t.exports=a,a.id=250},379:(t,e,s)=>{"use strict";var i=s(755),a=s.n(i);a()(document).on("keydown",".checkbox__input",(function(t){if(13===t.keyCode||32===t.keyCode){t.preventDefault();const e=a()(t.target),s=e.prop("checked");e.prop("checked",!s)}}))},485:(t,e,s)=>{"use strict";var i=s(755),a=s.n(i);const r=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],n=["янв","фев","мар","апр","мая","июн","июл","авг","сен","окт","ноя","дек"];class o{constructor(t){this.$datepicker=a()(t)}init(){this.$datepicker.on("keydown",{datepicker:this},c),this.$datepicker.hasClass("datepicker_format_demo")||(this.$datepicker.on("focusin",{datepicker:this},d).on("mousedown",{datepicker:this},l),a()(".js-datepicker__down",this.$datepicker).on("mousedown",$)),this.$arrival=a()(".js-datepicker__input_date_arrival",this.$datepicker).val(""),this.$departure=a()(".js-datepicker__input_date_departure",this.$datepicker).val(""),this.$dropFilter=a()(".js-datepicker__drop_format_filter",this.$datepicker),this.$dropArrival=a()(".js-datepicker__drop_date_arrival",this.$datepicker).on("mousedown",{datepicker:this},h),this.$dropDeparture=a()(".js-datepicker__drop_date_departure",this.$datepicker).on("mousedown",{datepicker:this},u),this.$back=a()(".js-datepicker__button_action_back",this.$datepicker).on("mousedown",{datepicker:this},m),a()(".js-datepicker__button_action_forward",this.$datepicker).on("mousedown",{datepicker:this},p),this.$monthYear=a()(".js-datepicker__month-year",this.$datepicker),this.$calendar=a()(".js-datepicker__tbody",this.$datepicker).on("click",".datepicker__cell_clickable",{datepicker:this},_),this.$clear=a()(".js-datepicker__button_action_clear",this.$datepicker).on("mousedown",{datepicker:this},v),this.$confirm=a()(".js-datepicker__button_action_confirm",this.$datepicker).on("mousedown",{datepicker:this},f);const t=new Date;this.today=new Date(t.getFullYear(),t.getMonth(),t.getDate()),this.cursorDate=new Date(t.getFullYear(),t.getMonth(),t.getDate()),this.calendarMonth=new Date(t.getFullYear(),t.getMonth()),this.update()}update(){const t=this.$arrival.val(),e=this.$departure.val(),s=new Date(t),i=new Date(e);s.setHours(0,0,0),i.setHours(0,0,0);const a=""!==t&&""!==e;a?(this.$dropFilter.text(`${s.getDate()} ${n[s.getMonth()]} - ${i.getDate()} ${n[i.getMonth()]}`),this.$dropArrival.text(t.split("-").reverse().join(".")),this.$dropDeparture.text(e.split("-").reverse().join("."))):""!==t?(this.$dropFilter.text(`${s.getDate()} ${n[s.getMonth()]}`),this.$dropArrival.text(t.split("-").reverse().join(".")),this.$dropDeparture.text("ДД.ММ.ГГГГ")):""!==e?(this.$dropFilter.text(`${i.getDate()} ${n[i.getMonth()]}`),this.$dropArrival.text("ДД.ММ.ГГГГ"),this.$dropDeparture.text(e.split("-").reverse().join("."))):(this.$dropFilter.text("Укажите даты пребывания"),this.$dropDeparture.text("ДД.ММ.ГГГГ"),this.$dropArrival.text("ДД.ММ.ГГГГ")),this.$back.prop("disabled",this.today.getMonth()===this.calendarMonth.getMonth()&&this.today.getFullYear()===this.calendarMonth.getFullYear()),this.$monthYear.text(`${r[this.calendarMonth.getMonth()]} ${this.calendarMonth.getFullYear()}`);const o=new Date(this.calendarMonth.getFullYear(),this.calendarMonth.getMonth()),d=o.getDay()?o.getDay()-1:6;o.setDate(o.getDate()-d);let l="";do{l+='<tr class="datepicker__row">';for(let t=0;t<7;t+=1){let e="",r="";o.getTime()===s.getTime()||o.getTime()===i.getTime()?e+=" datepicker__cell_selected":o.getTime()===this.cursorDate.getTime()?e+=" datepicker__cell_format_cursor datepicker__cell_clickable":o.getTime()===this.today.getTime()?e+=" datepicker__cell_date_today datepicker__cell_clickable":o>this.today&&(e+=" datepicker__cell_clickable"),o.getMonth()!==this.calendarMonth.getMonth()&&(e+=" datepicker__cell_date_other-month"),a&&(o.getTime()===s.getTime()?t<6&&(r='<div class="datepicker__cell-period datepicker__cell-period_date_arrival"></div>'):o.getTime()===i.getTime()?t>0&&(r='<div class="datepicker__cell-period datepicker__cell-period_date_departure"></div>'):s<o&&o<i&&(r=0===t?'<div class="datepicker__cell-period datepicker__cell-period_date_monday"></div>':6===t?'<div class="datepicker__cell-period datepicker__cell-period_date_sunday"></div>':'<div class="datepicker__cell-period"></div>')),l+=`\n          <td class="js-datepicker__cell datepicker__cell ${e}" data-date="${g(o)}">\n            ${o.getDate()}\n            ${r}\n          </td>\n        `,o.setDate(o.getDate()+1)}l+="</tr>"}while(o.getMonth()===this.calendarMonth.getMonth());this.$calendar.html(l),this.$clear.prop("disabled",""===t&&""===e),this.$confirm.prop("disabled",!a)}setDate(t){let e=this.$arrival.val(),s=this.$departure.val();"arrival"===this.$datepicker.attr("data-active")?e=t:s=t,""!==e&&""!==s&&e>s&&([e,s]=[s,e]),t===e?this.$datepicker.attr("data-active","departure"):this.$datepicker.attr("data-active","arrival"),this.$arrival.val(e),this.$departure.val(s),this.$datepicker.trigger("input")}}function d(t){const{datepicker:e}=t.data,{$datepicker:s}=e,i=t=>{const{close:e,datepicker:s}=t.data,{$datepicker:i}=s;i.hasClass("datepicker_just-now-focused")?i.removeClass("datepicker_just-now-focused"):(i.removeClass("datepicker_open"),a()(window).off("focusin focusout mousedown",e),i.off("focusin focusout",$).on("focusin",{datepicker:s},d))};s.addClass("datepicker_open datepicker_just-now-focused"),a()(window).on("focusin focusout mousedown",{datepicker:e,close:i},i),s.off("focusin",d).on("focusin  focusout",$)}function l(t){const{$datepicker:e}=t.data.datepicker;e.toggleClass("datepicker_open"),t.stopPropagation()}function c(t){const{datepicker:e}=t.data,{today:s,cursorDate:i,calendarMonth:a,$arrival:r,$departure:n}=e,{keyCode:o}=t,d=new Date(r.val()),l=new Date(n.val());if(d.setHours(0,0,0),l.setHours(0,0,0),13===o||32===o){if(t.preventDefault(),i.getTime()===d.getTime()||i.getTime()===l.getTime())return;return e.setDate(g(i)),void e.update()}const c=new Date(i.getFullYear(),i.getMonth(),i.getDate());switch(o){case 37:c.setDate(c.getDate()-1),c.getTime()===l.getTime()&&c.setDate(c.getDate()-1),c.getTime()===d.getTime()&&c.setDate(c.getDate()-1);break;case 38:c.setDate(c.getDate()-7),c.getTime()===l.getTime()&&c.setDate(c.getDate()-7),c.getTime()===d.getTime()&&c.setDate(c.getDate()-7);break;case 39:c.setDate(c.getDate()+1),c.getTime()===d.getTime()&&c.setDate(c.getDate()+1),c.getTime()===l.getTime()&&c.setDate(c.getDate()+1);break;case 40:c.setDate(c.getDate()+7),c.getTime()===d.getTime()&&c.setDate(c.getDate()+7),c.getTime()===l.getTime()&&c.setDate(c.getDate()+7);break;default:return}t.preventDefault(),c<s||(i.setFullYear(c.getFullYear(),c.getMonth(),c.getDate()),a.setFullYear(c.getFullYear(),c.getMonth()),e.update())}function h(t){const{$datepicker:e}=t.data.datepicker;e.attr("data-active","arrival")}function u(t){const{$datepicker:e}=t.data.datepicker;e.attr("data-active","departure")}function p(t){const{datepicker:e}=t.data,{calendarMonth:s}=e;s.setMonth(s.getMonth()+1),e.update()}function m(t){const{datepicker:e}=t.data,{calendarMonth:s}=e;s.setMonth(s.getMonth()-1),e.update()}function _(t){const{datepicker:e}=t.data,s=a()(t.target).data("date");e.setDate(s),e.update()}function v(t){const{datepicker:e}=t.data,{$datepicker:s,$arrival:i,$departure:a,today:r,cursorDate:n,calendarMonth:o}=e;s.attr("data-active","arrival"),i.val(""),a.val(""),s.trigger("input"),n.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),o.setFullYear(r.getFullYear(),r.getMonth()),e.update()}function f(t){const{$datepicker:e}=t.data.datepicker;e.removeClass("datepicker_open")}function $(t){t.stopPropagation()}function g(t){const e=t.getMonth()<9?"0":"",s=t.getDate()<10?"0":"";return`${t.getFullYear()}-${e}${t.getMonth()+1}-${s}${t.getDate()}`}a()(".js-datepicker").each(((t,e)=>{new o(e).init()}))},912:(t,e,s)=>{"use strict";var i=s(755),a=s.n(i);class r{constructor(t){this.$dropdown=a()(t)}init(){this.$dropdown.on("mousedown",{dropdown:this},n).on("input",{dropdown:this},d).on("focusin",{dropdown:this},o),this.$drop=a()(".js-dropdown__drop",this.$dropdown),this.$quantities=a()(".js-dropdown__quantity",this.$dropdown),a()(".js-dropdown__item",this.$dropdown).each(((t,e)=>{const s=a()(e),i=a()(".js-dropdown__quantity",s).on("keydown",p).val(""),r=a()(".js-dropdown__counter-button_action_minus",s).on("mousedown",{$quantity:i},l),n=a()(".js-dropdown__counter-button_action_plus",s).on("mousedown",{$quantity:i},c);i.on("input",{$minus:r,$plus:n},u),a()(".js-dropdown__counter-button",s).on("mouseup mouseout",{$quantity:i},h)})),a()(".js-dropdown__down",this.$dropdown).on("mousedown",b),this.$clear=a()(".js-dropdown__button_action_clear",this.$dropdown).on("mousedown",{dropdown:this},m),this.$confirm=a()(".js-dropdown__button_action_confirm",this.$dropdown).on("mousedown",{dropdown:this},_)}}function n(t){const{$dropdown:e}=t.data.dropdown;e.toggleClass("dropdown_open"),t.stopPropagation()}function o(t){const{dropdown:e}=t.data,{$dropdown:s}=e,i=t=>{const{close:e,dropdown:s}=t.data,{$dropdown:i}=s;i.hasClass("dropdown_just-now-focused")?i.removeClass("dropdown_just-now-focused"):(i.removeClass("dropdown_open"),a()(window).off("focusin focusout mousedown",e),i.off("focusin focusout",b).on("focusin",{dropdown:s},o))};s.addClass("dropdown_open dropdown_just-now-focused"),a()(window).on("focusin focusout mousedown",{dropdown:e,close:i},i),s.off("focusin",o).on("focusin focusout",b)}function d(t){const{dropdown:e}=t.data,{$drop:s,$quantities:i,$clear:r,$confirm:n}=e,o=i.get();let d=!0,l=!0,c=0;o.reduceRight(((t,e)=>{const s=a()(e),i=s.attr("data-quantity"),r=s.attr("data-surplus"),n=s.attr("data-nominative"),o=s.attr("data-genitive"),c=s.attr("data-genitivePlural"),h=parseInt(s.attr("data-min"),10);let u=parseInt(i,10);if(u>0&&(d=!1),u<h&&(l=!1),u+=t,void 0!==r)return u;const p=u%100,m=u%10,_=p>4&&p<21||m>4||0===m;return 0===u?s.attr("data-value",""):_?s.attr("data-value",`${u} ${c}`):1===m?s.attr("data-value",`${u} ${n}`):s.attr("data-value",`${u} ${o}`),0}),0);const h=o.reduce(((t,e)=>{const s=a()(e).attr("data-value");if(""!==s){if(c+=1,100===c)return`${t}...`;if(c>100)return t}return""!==s&&""!==t?`${t}, ${s}`:`${t}${s}`}),"");""!==h?s.text(h):s.text(s.attr("data-placeholder")),r.prop("disabled",d),n.prop("disabled",!l)}function l(t){const{$quantity:e}=t.data,s=a()(t.target);v(e);const i=setTimeout($,500,e,s);s.attr("data-timerID",i)}function c(t){const{$quantity:e}=t.data,s=a()(t.target);f(e);const i=setTimeout(g,500,e,s);s.attr("data-timerID",i)}function h(t){const e=parseInt(a()(t.target).attr("data-timerID"),10);clearTimeout(e),clearInterval(e)}function u(t){const e=a()(t.target),{$minus:s,$plus:i}=t.data,r=parseInt(e.attr("data-previous"),10),n=e.val(),o=parseInt(n,10)||0,d=e.attr("max");if(!n.match(/^\d{0,2}$/)||o>d||o<0)r>0?e.val(r):e.val("");else if(e.val(n.replace(/^0*/,"")),e.attr("data-quantity",o).attr("data-previous",o),s.prop("disabled",!(o>0)),i.prop("disabled",!(o<d)),o<1){const t=parseInt(s.attr("data-timerID"),10);clearTimeout(t),clearInterval(t)}else if(o>=d){const t=parseInt(i.attr("data-timerID"),10);clearTimeout(t),clearInterval(t)}}function p(t){const e=a()(t.target),{keyCode:s}=t,i=e.attr("max");let r=e.val();if(8===s||46===s)t.preventDefault(),e.val(r.replace(/.$/,"")),e.trigger("input");else if(s>47&&s<58){t.preventDefault();r=`${r}${s-48}`;let a=parseInt(r,10),n=!r.match(/^\d{0,2}$/)||a>i||a<0;if(n){if(!(r.length>1))return;if(r=r.replace(/^./,""),a=parseInt(r,10),n=!r.match(/^\d{0,2}$/)||a>i||a<0,n){if(!(r.length>1))return;if(r=r.replace(/^./,""),a=parseInt(r,10),n=!r.match(/^\d{0,2}$/)||a>i||a<0,n)return}}e.val(r),e.trigger("input")}}function m(t){const{$dropdown:e,$quantities:s}=t.data.dropdown;s.each(((t,e)=>{a()(e).val("").triggerHandler("input")})),e.trigger("input")}function _(t){const{$dropdown:e}=t.data.dropdown;e.removeClass("dropdown_open")}function v(t){const e=parseInt(t.val(),10);e>0&&t.val(e-1),t.trigger("input")}function f(t){const e=parseInt(t.val(),10)||0;e<t.attr("max")&&t.val(e+1),t.trigger("input")}function $(t,e){const s=setInterval(v,75,t);e.attr("data-timerID",s)}function g(t,e){const s=setInterval(f,75,t);e.attr("data-timerID",s)}function b(t){t.stopPropagation()}a()(".js-dropdown").each(((t,e)=>{new r(e).init()}))},339:(t,e,s)=>{"use strict";var i=s(755),a=s.n(i);class r{constructor(t){this.$like=a()(t)}init(){const{$like:t}=this;this.$number=a()(".js-like__number",t),this.$input=a()(".js-like__input",t).val(parseInt(t.attr("data-likes"),10)),this.$like.on("mousedown",{like:this},n).on("keydown",{like:this},o)}activate(){const{$like:t,$number:e,$input:s}=this;let i=parseInt(t.attr("data-likes"),10);t.hasClass("like_active")?i-=1:i+=1,t.toggleClass("like_active").attr("data-likes",`${i}`),e.text(`${i}`),s.val(`${i}`)}}function n(t){const{like:e}=t.data;e.activate()}function o(t){const{like:e}=t.data,{keyCode:s}=t;32!==s&&13!==s||(t.preventDefault(),e.activate())}a()(".js-like").each(((t,e)=>{new r(e).init()}))},758:(t,e,s)=>{"use strict";var i=s(755),a=s.n(i);class r{constructor(t){this.$paginator=a()(t)}init(){this.active=1,this.length=parseInt(this.$paginator.attr("data-length"),10),this.$description=a()(".js-paginator__description",this.$paginator),this.$paginator.on("keydown",{paginator:this},n).on("mousedown",".js-paginator__item",{paginator:this},o)}back(){this.active>1&&this.setActive(this.active-1)}forward(){this.active<this.length&&this.setActive(this.active+1)}setActive(t){this.active=t,this.$paginator.attr("data-active",t),this.$description.text(`${12*(t-1)+1} – ${12*t} из 100+ вариантов аренды`)}}function n(t){const{keyCode:e}=t,{paginator:s}=t.data;if(37===e)return t.preventDefault(),void s.back();39===e&&(t.preventDefault(),s.forward())}function o(t){const{paginator:e}=t.data,s=a()(t.target).attr("data-number");"back"!==s?"forward"!==s?e.setActive(parseInt(s,10)):e.forward():e.back()}a()(".js-paginator").each(((t,e)=>{new r(e).init()}))},779:(t,e,s)=>{"use strict";var i=s(755),a=s.n(i);class r{constructor(t){this.$rate=a()(t),this.rating=parseInt(this.$rate.attr("data-rating"),10)}init(){this.$rate.on("mouseover",".js-rate__star",{rate:this},n).on("mouseout",".js-rate__star",{rate:this},o).on("mousedown",".js-rate__star",{rate:this},d).on("keydown",{rate:this},l).append('\n        <input\n          type="number"\n          class="rate__input js-rate__input"\n          name="rating"\n        >'),this.$input=a()(".js-rate__input").val(this.rating)}setRating(t){this.rating=t}}function n(t){const{$rate:e}=t.data.rate;e.attr("data-rating",a()(t.target).attr("data-rating"))}function o(t){const{$rate:e,rating:s}=t.data.rate;e.attr("data-rating",s)}function d(t){const{rate:e}=t.data,s=parseInt(a()(t.target).attr("data-rating"),10);e.setRating(s),e.$input.val(s)}function l(t){const{rate:e}=t.data,{keyCode:s}=t,{$rate:i,$input:a,rating:r}=e;let n=r;37!==s&&39!==s||(t.preventDefault(),37===s?r>1&&(n-=1):r<5&&(n+=1),e.setRating(n),a.val(n),i.attr("data-rating",n))}a()(".js-rate.rate_enabled").each(((t,e)=>{new r(e).init()}))},335:(t,e,s)=>{"use strict";var i=s(755),a=s.n(i);class r{constructor({start:t=0,end:e=0,step:s=0,from:i=0,to:a=0,range:r=!1}={}){this.start=t,this.end=e,this.step=s,this.from=i,this.to=a,this.range=r,this.normalize()}setStart(t){this.start=t,this.normalize()}setEnd(t){this.end=t,this.normalize()}setStep(t){this.step=t,this.normalize()}setFrom(t){this.from=this.adjust(t),this.order()}setTo(t){this.to=this.adjust(t),this.order()}setRange(t){this.range=t,t&&this.order()}updateValue({full:t=0,part:e=0,previousValue:s=0}={}){this.range?(0===t?Math.abs(e-this.from)<Math.abs(e-this.to)?this.from=e:this.to=e:-2===t?s===this.from?this.from=this.adjust(s-this.step):this.to=this.adjust(s-this.step):-1===t?s===this.from?this.from=this.adjust(s+this.step):this.to=this.adjust(s+this.step):s===this.from?this.from=this.adjust(e*(this.end-this.start)/t+this.start):this.to=this.adjust(e*(this.end-this.start)/t+this.start),this.order()):this.from=0===t?e:-2===t?this.adjust(s-this.step):-1===t?this.adjust(s+this.step):this.adjust(e*(this.end-this.start)/t+this.start)}static blank(){return new r}normalize(){this.adjustStep(),this.from=this.adjust(this.from),this.to=this.adjust(this.to),this.order()}order(){this.range&&(this.start>this.end?this.from<this.to&&([this.from,this.to]=[this.to,this.from]):this.from>this.to&&([this.from,this.to]=[this.to,this.from]))}adjustStep(){Math.abs(this.step)>Math.abs(this.end-this.start)&&(this.step=this.end-this.start);(this.end>this.start&&this.step<0||this.end<this.start&&this.step>0)&&(this.step*=-1)}adjust(t){let e=t;if(this.start>this.end){if(t>this.start)e=this.start;else if(t<this.end)e=this.end;else if(0!==this.step){const s=this.start-this.end+this.step*Math.floor((this.end-this.start)/this.step);e=t<this.end+s/2?this.end:t<this.end+s?this.end+s:this.start+this.step*Math.round((t-this.start)/this.step)}}else if(t<this.start)e=this.start;else if(t>this.end)e=this.end;else if(0!==this.step){const s=this.end-this.start-this.step*Math.floor((this.end-this.start)/this.step);e=t>this.end-s/2?this.end:t>this.end-s?this.end-s:this.start+this.step*Math.round((t-this.start)/this.step)}return e}}function n(t){let e=0;const{thumb:s}=t.data;let i;s.vertical?t.clientY&&(e=t.clientY-s.shift-s.$container.offset().top):t.clientX&&(e=t.clientX-s.shift-s.$container.offset().left),e<0&&(e=0),i=s.vertical?s.$container.outerHeight()-s.$thumb.outerHeight():s.$container.outerWidth()-s.$thumb.outerWidth(),e>i&&(e=i),s.vertical?s.$thumb.css("top",`${e}px`):s.$thumb.css("left",`${e}px`);const a=s.vertical?i-e:e;s.indent=a/i,s.$container.trigger("update-value",{part:a,full:i,previousValue:s.value})}function o(t){a()(document).off("mousemove pointermove",n),a()(document).off("mouseup pointerup",o);const{thumb:e}=t.data;e.dragging=!1,e.fallIntoPlace(),e.$container.trigger("update-value",{part:e.value,full:0,previousValue:0})}function d(t){const{thumb:e}=t.data;let s=0;e.vertical?t.clientY&&(s=t.clientY-e.$thumb.offset().top):t.clientX&&(s=t.clientX-e.$thumb.offset().left),e.shift=s,a()(document).on("mousemove pointermove",null,{thumb:e},n),a()(document).on("mouseup pointerup",null,{thumb:e},o),e.dragging=!0}function l(t){const{keyCode:e}=t,{thumb:s}=t.data;"number"==typeof e&&e>36&&e<41&&(t.preventDefault(),s.setKeyCode(e),38===e||39===e?s.$container.trigger("update-value",{full:-1,part:0,previousValue:s.value}):s.$container.trigger("update-value",{full:-2,part:0,previousValue:s.value}))}function c(t){const{thumb:e}=t.data;e.setKeyCode(0)}function h(){return!1}class u{constructor({$thumb:t=a()(),$container:e=a()(),vertical:s=!1,value:i=0,position:r=0,tip:n=!1,units:o=""}={}){this.$thumb=a()(),this.$container=a()(),this.$tip=a()(),this.vertical=!1,this.value=0,this.position=0,this.drag=!1,this.offset=0,this.tip=!1,this.units="",this.dent=0,this.keyCode=0,this.$thumb=t,this.$container=e,this.vertical=s,this.value=i,this.position=r,this.dragging=!1,this.shift=0,this.tip=n,this.units=o,this.indent=0,this.keyCode=0}init(){this.$tip=a()(".js-slider__tip",this.$thumb),this.$thumb.on("mousedown pointerdown",null,{thumb:this},d).on("keydown",null,{thumb:this},l).on("keyup",null,{thumb:this},c),this.$thumb.on("dragstart",h),this.update({vertical:this.vertical,position:this.position,value:this.value,tip:this.tip})}update({vertical:t=!1,position:e=0,value:s=0,tip:i=!1}={}){this.vertical=t,this.position=e,this.value=s,this.tip=i,this.tip?this.$tip.css("display","block"):this.$tip.css("display","none"),this.$tip.text(`${new Intl.NumberFormat("ru-RU").format(this.value)}${this.units}`),this.fallIntoPlace()}set shift(t){this.offset=t}get shift(){return this.offset}set dragging(t){this.drag=t,t?this.$thumb.addClass("slider__thumb_dragging"):this.$thumb.removeClass("slider__thumb_dragging")}get dragging(){return this.drag}fallIntoPlace(){this.dragging||(this.vertical?(this.$thumb.css({left:"0",top:100-100*this.position+"%"}),this.indent=this.position):(this.$thumb.css({top:"0",left:100*this.position+"%"}),this.indent=this.position))}set indent(t){this.dent=t}get indent(){return this.dent}setKeyCode(t){this.keyCode=t}}function p({start:t=0,end:e=0,step:s=0,units:i=""}={}){const a=Math.abs(s);let r=`\n    <div class="slider__thumb slider__thumb_format_half-spacer"></div>\n    <div class="slider__scale js-slider__scale">  \n      <div class="slider__point" style="flex: ${a} ${a} 0%">\n        <div class="slider__point-value js-slider__point-value" data-value="${t}">\n          ${new Intl.NumberFormat("ru-RU").format(t)}${i}\n        </div>\n      </div>`,n=0,o=e;0!==s&&(e>t?n=e-t-s*Math.floor((e-t)/s):e<t&&(n=t-e+s*Math.floor((e-t)/s)),o=t+s*Math.floor((e-t)/s));let d=1;if(e>t&&0!==s)for(let e=t+s;e<o;e=t+d*s)r+=`\n        <div class="slider__point" style="flex: ${2*a} ${2*a} 0%">\n          <div class="slider__point-value js-slider__point-value" data-value="${e}">\n            ${new Intl.NumberFormat("ru-RU").format(e)}${i}\n          </div>\n        </div>`,d+=1;else if(t>e&&0!==s)for(let e=t+s;e>o;e=t+d*s)r+=`\n        <div class="slider__point" style="flex: ${2*a} ${2*a} 0%">\n          <div class="slider__point-value js-slider__point-value" data-value="${e}">\n            ${new Intl.NumberFormat("ru-RU").format(e)}${i}\n          </div>\n        </div>`,d+=1;return r+=n?`\n      <div class="slider__point slider__point_penult" style="flex: ${a} ${a} 0%">\n        <div class="slider__point-value js-slider__point-value" data-value="${o}">\n          ${new Intl.NumberFormat("ru-RU").format(o)}${i}\n        </div>\n      </div>\n      <div class="slider__point" style="flex-grow: ${2*n}; flex-basis: 0;">\n        <div class="slider__point-value js-slider__point-value" data-value="${e}">\n          ${new Intl.NumberFormat("ru-RU").format(e)}${i}\n        </div>\n      </div>`:`\n      <div class="slider__point" style="flex: ${a} ${a} 0%">\n        <div class="slider__point-value js-slider__point-value" data-value="${e}">\n          ${new Intl.NumberFormat("ru-RU").format(e)}${i}\n        </div>\n      </div>`,r+='\n    </div>\n    <div class="slider__thumb slider__thumb_format_half-spacer"></div>',r}function m(t){t.data.scale.$scale.trigger("update-value",{part:parseFloat(t.target.dataset.value),full:0,previousValue:0})}class _{constructor({$scale:t=a()(),start:e=0,end:s=0,step:i=0,scaleView:r=!1,units:n=""}={}){this.$scale=t,this.start=e,this.end=s,this.step=i,this.scaleView=r,this.units=n}init(){this.scaleView?this.$scale.css("display","flex"):this.$scale.css("display","none"),this.$scale.html(p({start:this.start,end:this.end,step:this.step,units:this.units})),this.$scale.on("mousedown",".js-slider__point-value",{scale:this},m)}update({start:t=0,end:e=0,step:s=0,scaleView:i=!1}){this.scaleView=i,this.scaleView?this.$scale.css("display","flex"):this.$scale.css("display","none");(t!==this.start||e!==this.end||s!==this.step)&&(this.start=t,this.end=e,this.step=s,this.$scale.html(p({start:this.start,end:this.end,step:this.step,units:this.units})))}static blank(){return new _}}class v{constructor({$bar:t=a()(),$thumbs:e=a()(),$container:s=a()()}={}){this.$bar=t,this.$thumbs=e,this.$container=s}update({vertical:t=!1,barView:e=!1}){const s=[];e?this.$bar.css("display","block"):this.$bar.css("display","none");let i=t?this.$container.outerHeight():this.$container.outerWidth();void 0===i&&(i=0);let r=t?this.$thumbs.outerHeight():this.$thumbs.outerWidth();void 0===r&&(r=0),this.$thumbs.each(((e,i)=>{t?"none"!==a()(i).css("display")&&s.push(parseFloat(a()(i).css("top"))):"none"!==a()(i).css("display")&&s.push(parseFloat(a()(i).css("left")))})),s.sort(((t,e)=>t-e)),t?s.length>1?this.$bar.css({left:"0",width:"6px",top:100*s[0]/(i-r)+"%",height:100*(s[1]-s[0])/(i-r)+"%"}):this.$bar.css({left:"0",width:"6px",top:100*s[0]/(i-r)+"%",height:100-100*s[0]/(i-r)+"%"}):s.length>1?this.$bar.css({top:"0",height:"6px",left:100*s[0]/(i-r)+"%",width:(100*(s[1]-s[0])+r)/(i-r)+"%"}):this.$bar.css({top:"0",height:"6px",left:"0",width:100*s[0]/(i-r)+"%"})}static blank(){return new v}}class f{constructor({$slider:t=a()(),model:e=r.blank(),vertical:s=!1,tipView:i=!1,scaleView:n=!1,barView:o=!1,units:d=""}={}){this.$from=a()(),this.$to=a()(),this.model=r.blank(),this.thumbs=[],this.scale=_.blank(),this.bar=v.blank(),this.$slider=t,this.model=e,this.vertical=s,this.units=d,this.scaleView=n,this.barView=o,this.tipView=i}init(t=""){a()(".js-slider__thumb",this.$slider).each(((t,e)=>{this.thumbs.push(new u({value:this.model.start,position:0,vertical:this.vertical,$thumb:a()(e),$container:this.$slider,tip:this.tipView,units:this.units}))})),this.thumbs.forEach((t=>t.init())),this.scale=new _({$scale:a()(".js-slider__scale-container",this.$slider),start:this.model.start,end:this.model.end,step:this.model.step,scaleView:this.scaleView,units:this.units}),this.scale.init(),this.model.range||this.$slider.addClass("slider_single"),this.bar=new v({$bar:a()(".js-slider__bar",this.$slider),$thumbs:a()(".js-slider__thumb",this.$slider),$container:this.$slider}),this.$from=a()(".js-slider__input_starting",this.$slider),this.$to=a()(".js-slider__input_final",this.$slider),this.$from.attr("name",`${t}-from`),this.$to.attr("name",`${t}-to`),this.update()}update(){if(this.$from.val(this.model.from),this.$to.val(this.model.to),this.vertical?this.$slider.addClass("slider_vertical"):this.$slider.removeClass("slider_vertical"),this.model.range)this.$slider.removeClass("slider_single"),this.thumbs[1].$thumb.css("display","block"),this.thumbs.sort(((t,e)=>t.indent!==e.indent?t.indent-e.indent:0!==t.keyCode?38===t.keyCode||39===t.keyCode?1:-1:38===e.keyCode||39===e.keyCode?-1:1)),this.thumbs.forEach(((t,e)=>{const s=e?this.model.to:this.model.from,i=Math.abs(this.model.end-this.model.start),a=i?Math.abs(s-this.model.start)/i:0;t.update({value:s,position:a,vertical:this.vertical,tip:this.tipView})}));else{this.$slider.addClass("slider_single"),this.thumbs[1].$thumb.css("display","none");const t=Math.abs(this.model.end-this.model.start),e=t?Math.abs(this.model.from-this.model.start)/t:0;this.thumbs[0].update({value:this.model.from,position:e,vertical:this.vertical,tip:this.tipView})}this.scale.update({start:this.model.start,end:this.model.end,step:this.model.step,scaleView:this.scaleView}),this.bar.update({vertical:this.vertical,barView:this.barView})}setVertical(t){this.vertical=t}setScaleView(t){this.scaleView=t}setBarView(t){this.barView=t}setTipView(t){this.tipView=t}get scope(){return this.model.range?`${new Intl.NumberFormat("ru-RU").format(this.model.from)}${this.units} - ${new Intl.NumberFormat("ru-RU").format(this.model.to)}${this.units}`:`${new Intl.NumberFormat("ru-RU").format(this.model.from)}${this.units}`}static blank(){return new f}}function $(t,e){const{model:s,view:i}=t.data.controller;s.updateValue(e),i.update(),i.$slider.trigger("slide",{scope:i.scope,from:s.from,to:s.to})}function g(t,e){const{model:s,view:i}=t.data.controller;void 0!==e.start&&s.setStart(e.start),void 0!==e.end&&s.setEnd(e.end),void 0!==e.step&&s.setStep(e.step),void 0!==e.from&&void 0!==e.to?s.end>s.start?e.to<e.from?s.to<e.to?(s.setTo(e.from),s.setFrom(e.to)):(s.setFrom(e.to),s.setTo(e.from)):s.to<e.from?(s.setTo(e.to),s.setFrom(e.from)):(s.setFrom(e.from),s.setTo(e.to)):e.to>e.from?s.to>e.to?(s.setTo(e.from),s.setFrom(e.to)):(s.setFrom(e.to),s.setTo(e.from)):s.to>e.from?(s.setTo(e.to),s.setFrom(e.from)):(s.setFrom(e.from),s.setTo(e.to)):void 0!==e.to?s.setTo(e.to):void 0!==e.from&&s.setFrom(e.from),void 0!==e.vertical&&i.setVertical(e.vertical),void 0!==e.range&&s.setRange(e.range),void 0!==e.tipView&&i.setTipView(e.tipView),void 0!==e.scaleView&&i.setScaleView(e.scaleView),void 0!==e.barView&&i.setBarView(e.barView),i.update()}class b{constructor({model:t=r.blank(),view:e=f.blank()}={}){this.model=t,this.view=e}init(){this.view.$slider.on("update-value",null,{controller:this},$),this.view.$slider.trigger("slide",{scope:this.view.scope,from:this.model.from,to:this.model.to}),this.view.$slider.on("set",null,{controller:this},g)}}function w(t,{scope:e}){a()(".js-slider-toxin__value",t.data.$slider).text(e)}a().fn.Slider=function({start:t=0,end:e=0,step:s=0,from:i=0,to:n=0,vertical:o=!1,range:d=!1,tipView:l=!1,scaleView:c=!1,barView:h=!1,units:u="",name:p="undefined-name"}){return this.each(((m,_)=>{let v=p;m>0&&(v=`${p}${m}`);const $=a()(_);$.html('<div class="slider js-slider">\n  <input class="slider__input slider__input_starting js-slider__input_starting" type="number">\n  <input class="slider__input slider__input_final js-slider__input_final" type="number">\n  <div class="slider__body js-slider__body">\n    <div class="slider__strip-container">\n      <div class="slider__strip"></div>\n    </div>\n    <div class="slider__thumb-container">\n      <div class="slider__thumb-container">\n        <div class="slider__thumb-container">\n          <div class="js-slider__thumb slider__thumb" tabindex="0">\n            <div class="slider__tip js-slider__tip"></div>\n          </div>\n        </div>\n        <div class="slider__thumb slider__thumb_format_spacer"></div>\n      </div>\n    </div>\n    <div class="slider__thumb-container">\n      <div class="slider__thumb-container">\n        <div class="slider__thumb-container">\n          <div class="js-slider__thumb slider__thumb" tabindex="0">\n            <div class="slider__tip js-slider__tip"></div>\n          </div>\n        </div>\n        <div class="slider__thumb slider__thumb_format_spacer"></div>\n      </div>\n    </div>\n    <div class="slider__bar-container">\n      <div class="slider__bar-container">\n        <div class="slider__thumb slider__thumb_format_half-spacer"></div>\n        <div class="slider__bar-container">\n          <div class="slider__bar js-slider__bar"></div>\n        </div>\n        <div class="slider__thumb slider__thumb_format_half-spacer"></div>    \n      </div>\n    </div>\n  </div>\n  <div class="slider__scale-container js-slider__scale-container">\n  </div>\n</div>');const g=a()(".js-slider",$),w=new r({start:t,end:e,step:s,from:i,to:n,range:d}),k=new f({$slider:g,model:w,vertical:o,tipView:l,scaleView:c,barView:h,units:u});k.init(v);new b({model:w,view:k}).init()}))},a().fn.slider=function(t={start:void 0,end:void 0,step:void 0,from:void 0,to:void 0,range:void 0,vertical:void 0,tipView:void 0,scaleView:void 0,barView:void 0}){return this.each(((e,s)=>{a()(".js-slider",a()(s)).trigger("set",t)}))},a()(".js-slider-toxin").each(((t,e)=>{a()(".js-slider-toxin__body",a()(e)).on("slide",null,{$slider:a()(e)},w).Slider({start:parseFloat(e.dataset.start),end:parseFloat(e.dataset.end),step:parseFloat(e.dataset.step),from:parseFloat(e.dataset.from),to:parseFloat(e.dataset.to),range:!0,barView:!0,units:"₽",name:e.dataset.name})}))},610:(t,e,s)=>{"use strict";var i=s(755),a=s.n(i);class r{#t;constructor(t){this.#t=a()(t)}init(){this.$submit=a()(".js-subscription__button",this.#t),this.$email=a()(".js-subscription__input",this.#t),this.$email.on("input",null,{$email:this.$email,$submit:this.$submit},n)}}function n(t){const{$email:e,$submit:s}=t.data;var i;s.prop("disabled",(i=e.val(),!String(i).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)))}a()(".js-subscription").each(((t,e)=>{new r(e).init()}))},234:(t,e,s)=>{"use strict";var i=s(755),a=s.n(i);class r{#e;constructor(t){this.#e=a()(t)}init(){a()(".js-text-field__input",this.#e).attr("placeholder","").on("input",null,{textField:this},o).on("change focusout",null,{textField:this},d).on("paste",n);const t=this.#e.data("name");a()(".js-text-field__wrapper",this.#e).append(`\n        <input\n          type="text"\n          class="text-field__input text-field__input_double js-text-field__input_double"\n          disabled\n          placeholder="ДД.ММ.ГГГГ"\n        >\n        <input\n          type="date"\n          class="text-field__date js-text-field__date"\n          name="${t}-date"\n        >`),this.$double=a()(".js-text-field__input_double",this.#e),this.$dateInput=a()(".js-text-field__date",this.#e),this.preValue=""}setPreValue(t){this.preValue=t}}function n(t){t.preventDefault()}function o(t){const e=t.target,s=a()(e);s.removeClass("text-field__input_invalid");let i=e.selectionStart,r=s.val();const{preValue:n,$double:o}=t.data.textField;if(n.length>r.length)r.match(/^(\d{0,2}\.?|\d{0,2}\.\d{0,2}\.?|\d{0,2}\.\d{0,2}\.\d{0,4})$/)?(r=r.replace(/\.$/,""),r=r.replace(/\.$/,"")):r=n;else if(r.match(/^(\d{0,3}|\d{0,2}\.\d{1,3}|\d{0,2}\.\d{0,2}\.\d{1,4})$/)){let t,e,s,a=0,o=(r.slice(0,i).match(/\./g)||[]).length;if(r.match(/^(3[2-9]|[4-9]\d)$/)?(r=`0${r}`,a+=1,o=1):r.match(/^\d{0,2}\.(1[3-9]|[2-9]\d)$/)&&(r=`${r.slice(0,r.length-2)}0${r.slice(r.length-2,r.length)}`,a+=1,o=2),r.match(/^\d{3}$/)?(t=r.slice(0,2),e=r.slice(2),a+=1,o=1):r.match(/^\d{0,2}\.\d{3}$/)?([t,e]=r.slice(0,r.length-1).split("."),s=r[r.length-1],a+=1,o=2):[t,e,s]=r.split("."),function(t,e,s){let i;i=t?parseInt(t,10):0;let a,r,n="00"===t||i>31;return!n&&(a=e?parseInt(e,10):0,n="00"===e||a>12,!n&&(r=!s||s.length<4&&s.match(/^(19|20)/)||1===s.length||3===s.length?0:2===s.length?parseInt(s,10)<30?parseInt(`20${s}`,10):parseInt(`19${s}`,10):parseInt(s,10),n=i>29&&2===a||i>28&&2===a&&(r%4!=0||1900===r),!n&&(n=31===i&&[4,6,9,11].includes(a),!n)))}(t,e,s)){s&&(s.match(/^(0[1-9]?|1[0-8]|2[1-9]|[3-9]\d?)$/)&&o>1&&(a+=2),s.match(/^(0[1-9]?|1[0-8]|2[1-9])$/)?s=`20${s}`:s.match(/^[3-9]\d?$/)&&(s=`19${s}`)),e&&e.match(/^[2-9]$/)&&(e=`0${e}`,o>0&&(a+=1)),t&&t.match(/^[4-9]$/)&&(t=`0${t}`,a+=1);const n=[];void 0!==t&&n.push(t),void 0!==e&&n.push(e),void 0!==s&&n.push(s),r=n.join("."),i+=a}else r=n,i-=1}else r=n,i-=1;s.val(r),o.attr("placeholder",function(t){const e="ДД.ММ.ГГГГ".split("");return t.split("").forEach(((t,s)=>{e[s]=t})),e.join("")}(r)),e.setSelectionRange(i,i),t.data.textField.setPreValue(r)}function d(t){const e=a()(t.target),s=e.val(),i=s.split(".").reverse().join("-"),{$dateInput:r}=t.data.textField;s.match(/^\d{2}\.\d{2}\.\d{4}$/)&&!Number.isNaN(Date.parse(i))||""===s?(e.removeClass("text-field__input_invalid"),r.val(i)):e.addClass("text-field__input_invalid")}a()(".js-text-field_type_date").each(((t,e)=>{new r(e).init()}))},320:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>i});const i=s.p+"assets/favicons/android-chrome-192x192.png"},641:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>i});const i=s.p+"assets/favicons/android-chrome-512x512.png"},879:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>i});const i=s.p+"assets/favicons/apple-touch-icon.png"},978:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>i});const i=s.p+"assets/favicons/browserconfig.xml"},435:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>i});const i=s.p+"assets/favicons/favicon-16x16.png"},723:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>i});const i=s.p+"assets/favicons/favicon-32x32.png"},211:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>i});const i=s.p+"assets/favicons/favicon.ico"},833:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>i});const i=s.p+"assets/favicons/mstile-144x144.png"},962:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>i});const i=s.p+"assets/favicons/mstile-150x150.png"},577:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>i});const i=s.p+"assets/favicons/mstile-310x150.png"},811:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>i});const i=s.p+"assets/favicons/mstile-310x310.png"},282:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>i});const i=s.p+"assets/favicons/mstile-70x70.png"},598:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>i});const i=s.p+"assets/favicons/safari-pinned-tab.svg"},983:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>i});const i=s.p+"assets/favicons/site.webmanifest"},578:(t,e,s)=>{"use strict";s(234),s(912),s(485),s(610),s(379),s(339),s(779),s(335),s(758),s(382)}},t=>{var e;e=578,t(t.s=e)}]);
//# sourceMappingURL=form-elements.js.map