(self.webpackChunktoxin_hotel=self.webpackChunktoxin_hotel||[]).push([[466],{382:(t,e,i)=>{const a=i(250);a.keys().forEach(a)},250:(t,e,i)=>{var a={"./android-chrome-192x192.png":320,"./android-chrome-512x512.png":641,"./apple-touch-icon.png":879,"./browserconfig.xml":978,"./favicon-16x16.png":435,"./favicon-32x32.png":723,"./favicon.ico":211,"./mstile-144x144.png":833,"./mstile-150x150.png":962,"./mstile-310x150.png":577,"./mstile-310x310.png":811,"./mstile-70x70.png":282,"./safari-pinned-tab.svg":598,"./site.webmanifest":983};function s(t){var e=n(t);return i(e)}function n(t){if(!i.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}s.keys=function(){return Object.keys(a)},s.resolve=n,t.exports=s,s.id=250},379:(t,e,i)=>{"use strict";var a=i(755),s=i.n(a);s()(document).on("keydown",".checkbox__input",(function(t){if(13===t.keyCode||32===t.keyCode){t.preventDefault();const e=s()(t.target),i=e.prop("checked");e.prop("checked",!i)}})),s()(document).on("keydown mousedown",".checkbox__expand-label",(function(t){const{type:e,keyCode:i}=t,a=s()(t.target);"keydown"===e?13!==i&&32!==i||(t.preventDefault(),a.toggleClass("checkbox__expand-label_close")):a.toggleClass("checkbox__expand-label_close")}))},485:(t,e,i)=>{"use strict";var a=i(755),s=i.n(a);const n=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],r=["янв","фев","мар","апр","мая","июн","июл","авг","сен","окт","ноя","дек"];class o{$datepicker;$arrival;$departure;$dropFilter;$dropArrival;$dropDeparture;$back;$monthYear;$calendar;$clear;$confirm;today;cursorDate;calendarMonth;constructor(t){this.$datepicker=s()(t)}init(){this.$datepicker.on("keydown",{datepicker:this},c),this.$datepicker.hasClass("datepicker_format_demo")||(this.$datepicker.on("focusin",{datepicker:this},d).on("mousedown",{datepicker:this},l),s()(".js-datepicker__down",this.$datepicker).on("mousedown",_)),this.$arrival=s()(".js-datepicker__input_date_arrival",this.$datepicker).val(""),this.$departure=s()(".js-datepicker__input_date_departure",this.$datepicker).val(""),this.$dropFilter=s()(".js-datepicker__drop_format_filter",this.$datepicker),this.$dropArrival=s()(".js-datepicker__drop_date_arrival",this.$datepicker).on("mousedown",{datepicker:this},u),this.$dropDeparture=s()(".js-datepicker__drop_date_departure",this.$datepicker).on("mousedown",{datepicker:this},p),this.$back=s()(".js-datepicker__button_action_back",this.$datepicker).on("mousedown",{datepicker:this},m),s()(".js-datepicker__button_action_forward",this.$datepicker).on("mousedown",{datepicker:this},h),this.$monthYear=s()(".js-datepicker__month-year",this.$datepicker),this.$calendar=s()(".js-datepicker__tbody",this.$datepicker).on("click",".datepicker__cell_clickable",{datepicker:this},f),this.$clear=s()(".js-datepicker__button_action_clear",this.$datepicker).on("mousedown",{datepicker:this},$),this.$confirm=s()(".js-datepicker__button_action_confirm",this.$datepicker).on("mousedown",{datepicker:this},g);const t=new Date;return this.today=new Date(t.getFullYear(),t.getMonth(),t.getDate()),this.cursorDate=new Date(t.getFullYear(),t.getMonth(),t.getDate()),this.calendarMonth=new Date(t.getFullYear(),t.getMonth()),this.update()}update(){const t=this.$arrival.val(),e=this.$departure.val(),i=new Date(t),a=new Date(e);i.setHours(0,0,0),a.setHours(0,0,0);const s=""!==t&&""!==e;s?(this.$dropFilter.text(`${i.getDate()} ${r[i.getMonth()]} - ${a.getDate()} ${r[a.getMonth()]}`),this.$dropArrival.text(t.split("-").reverse().join(".")).attr("datetime",t),this.$dropDeparture.text(e.split("-").reverse().join(".")).attr("datetime",e)):""!==t?(this.$dropFilter.text(`${i.getDate()} ${r[i.getMonth()]}`),this.$dropArrival.text(t.split("-").reverse().join(".")).attr("datetime",t),this.$dropDeparture.text("ДД.ММ.ГГГГ").attr("datetime","1970-01-01")):""!==e?(this.$dropFilter.text(`${a.getDate()} ${r[a.getMonth()]}`),this.$dropArrival.text("ДД.ММ.ГГГГ").attr("datetime","1970-01-01"),this.$dropDeparture.text(e.split("-").reverse().join(".")).attr("datetime",e)):(this.$dropFilter.text("Укажите даты пребывания"),this.$dropDeparture.text("ДД.ММ.ГГГГ").attr("datetime","1970-01-01"),this.$dropArrival.text("ДД.ММ.ГГГГ").attr("datetime","1970-01-01")),this.$back.prop("disabled",this.today.getMonth()===this.calendarMonth.getMonth()&&this.today.getFullYear()===this.calendarMonth.getFullYear()),this.$monthYear.text(`${n[this.calendarMonth.getMonth()]} ${this.calendarMonth.getFullYear()}`);const o=new Date(this.calendarMonth.getFullYear(),this.calendarMonth.getMonth()),d=o.getDay()?o.getDay()-1:6;o.setDate(o.getDate()-d);let l="";do{l+='<tr class="datepicker__row">';for(let t=0;t<7;t+=1){let e="",n="";o.getTime()===i.getTime()||o.getTime()===a.getTime()?e+=" datepicker__cell_selected":o.getTime()===this.cursorDate.getTime()?e+=" datepicker__cell_format_cursor datepicker__cell_clickable":o.getTime()===this.today.getTime()?e+=" datepicker__cell_date_today datepicker__cell_clickable":o>this.today&&(e+=" datepicker__cell_clickable"),o.getMonth()!==this.calendarMonth.getMonth()&&(e+=" datepicker__cell_date_other-month"),s&&(o.getTime()===i.getTime()?t<6&&(n='<div class="datepicker__cell-period datepicker__cell-period_date_arrival"></div>'):o.getTime()===a.getTime()?t>0&&(n='<div class="datepicker__cell-period datepicker__cell-period_date_departure"></div>'):i<o&&o<a&&(n=0===t?'<div class="datepicker__cell-period datepicker__cell-period_date_monday"></div>':6===t?'<div class="datepicker__cell-period datepicker__cell-period_date_sunday"></div>':'<div class="datepicker__cell-period"></div>')),l+=`\n          <td class="js-datepicker__cell datepicker__cell ${e}" data-date="${v(o)}">\n            ${o.getDate()}\n            ${n}\n          </td>\n        `,o.setDate(o.getDate()+1)}l+="</tr>"}while(o.getMonth()===this.calendarMonth.getMonth());return this.$calendar.html(l),this.$clear.prop("disabled",""===t&&""===e),this.$confirm.prop("disabled",!s),this}setDate(t){let e=this.$arrival.val(),i=this.$departure.val();return"arrival"===this.$datepicker.attr("data-active")?e=t:i=t,""!==e&&""!==i&&e>i&&([e,i]=[i,e]),t===e?this.$datepicker.attr("data-active","departure"):this.$datepicker.attr("data-active","arrival"),this.$arrival.val(e),this.$departure.val(i),this.$datepicker.trigger("input"),this}}function d(t){const{datepicker:e}=t.data,{$datepicker:i}=e,a=t=>{const{close:e,datepicker:i}=t.data,{$datepicker:a}=i;a.hasClass("datepicker_just-now-focused")?a.removeClass("datepicker_just-now-focused"):(a.removeClass("datepicker_open"),s()(window).off("focusin focusout mousedown",e),a.off("focusin focusout",_).on("focusin",{datepicker:i},d))};i.addClass("datepicker_open datepicker_just-now-focused"),s()(window).on("focusin focusout mousedown",{datepicker:e,close:a},a),i.off("focusin",d).on("focusin  focusout",_)}function l(t){const{$datepicker:e}=t.data.datepicker;e.toggleClass("datepicker_open"),t.stopPropagation()}function c(t){const{datepicker:e}=t.data,{today:i,cursorDate:a,calendarMonth:s,$arrival:n,$departure:r}=e,{keyCode:o}=t,d=new Date(n.val()),l=new Date(r.val());if(d.setHours(0,0,0),l.setHours(0,0,0),13===o||32===o){if(t.preventDefault(),a.getTime()===d.getTime()||a.getTime()===l.getTime())return;return e.setDate(v(a)),void e.update()}const c=new Date(a.getFullYear(),a.getMonth(),a.getDate());switch(o){case 37:c.setDate(c.getDate()-1),c.getTime()===l.getTime()&&c.setDate(c.getDate()-1),c.getTime()===d.getTime()&&c.setDate(c.getDate()-1);break;case 38:c.setDate(c.getDate()-7),c.getTime()===l.getTime()&&c.setDate(c.getDate()-7),c.getTime()===d.getTime()&&c.setDate(c.getDate()-7);break;case 39:c.setDate(c.getDate()+1),c.getTime()===d.getTime()&&c.setDate(c.getDate()+1),c.getTime()===l.getTime()&&c.setDate(c.getDate()+1);break;case 40:c.setDate(c.getDate()+7),c.getTime()===d.getTime()&&c.setDate(c.getDate()+7),c.getTime()===l.getTime()&&c.setDate(c.getDate()+7);break;default:return}t.preventDefault(),c<i||(a.setFullYear(c.getFullYear(),c.getMonth(),c.getDate()),s.setFullYear(c.getFullYear(),c.getMonth()),e.update())}function u(t){const{$datepicker:e}=t.data.datepicker;e.attr("data-active","arrival")}function p(t){const{$datepicker:e}=t.data.datepicker;e.attr("data-active","departure")}function h(t){const{datepicker:e}=t.data,{calendarMonth:i}=e;i.setMonth(i.getMonth()+1),e.update()}function m(t){const{datepicker:e}=t.data,{calendarMonth:i}=e;i.setMonth(i.getMonth()-1),e.update()}function f(t){const{datepicker:e}=t.data,i=s()(t.target).data("date");e.setDate(i),e.update()}function $(t){const{datepicker:e}=t.data,{$datepicker:i,$arrival:a,$departure:s,today:n,cursorDate:r,calendarMonth:o}=e;i.attr("data-active","arrival"),a.val(""),s.val(""),i.trigger("input"),r.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),o.setFullYear(n.getFullYear(),n.getMonth()),e.update()}function g(t){const{$datepicker:e}=t.data.datepicker;e.removeClass("datepicker_open")}function _(t){t.stopPropagation()}function v(t){const e=t.getMonth()<9?"0":"",i=t.getDate()<10?"0":"";return`${t.getFullYear()}-${e}${t.getMonth()+1}-${i}${t.getDate()}`}s()(".js-datepicker").each(((t,e)=>{new o(e).init()}))},912:(t,e,i)=>{"use strict";var a=i(755),s=i.n(a);class n{$dropdown;$drop;$quantities;$clear;$confirm;constructor(t){this.$dropdown=s()(t)}init(){return this.$dropdown.on("mousedown",{dropdown:this},r).on("input",{dropdown:this},d).on("focusin",{dropdown:this},o),this.$drop=s()(".js-dropdown__drop",this.$dropdown),this.$quantities=s()(".js-dropdown__quantity",this.$dropdown),s()(".js-dropdown__item",this.$dropdown).each(((t,e)=>{const i=s()(e),a=s()(".js-dropdown__quantity",i).on("keydown",h).val(""),n=s()(".js-dropdown__counter-button_action_minus",i).on("mousedown",{$quantity:a},l),r=s()(".js-dropdown__counter-button_action_plus",i).on("mousedown",{$quantity:a},c);a.on("input",{$minus:n,$plus:r},p),s()(".js-dropdown__counter-button",i).on("mouseup mouseout focusout",{$quantity:a},u)})),s()(".js-dropdown__down",this.$dropdown).on("mousedown",w),this.$clear=s()(".js-dropdown__button_action_clear",this.$dropdown).on("mousedown",{dropdown:this},m),this.$confirm=s()(".js-dropdown__button_action_confirm",this.$dropdown).on("mousedown",{dropdown:this},f),this}}function r(t){const{$dropdown:e}=t.data.dropdown;e.toggleClass("dropdown_open"),t.stopPropagation()}function o(t){const{dropdown:e}=t.data,{$dropdown:i}=e,a=t=>{const{close:e,dropdown:i}=t.data,{$dropdown:a}=i;a.hasClass("dropdown_just-now-focused")?a.removeClass("dropdown_just-now-focused"):(a.removeClass("dropdown_open"),s()(window).off("focusin focusout mousedown",e),a.off("focusin focusout",w).on("focusin",{dropdown:i},o))};i.addClass("dropdown_open dropdown_just-now-focused"),s()(window).on("focusin focusout mousedown",{dropdown:e,close:a},a),i.off("focusin",o).on("focusin focusout",w)}function d(t){const{dropdown:e}=t.data,{$drop:i,$quantities:a,$clear:n,$confirm:r}=e,o=a.get();let d=!0,l=!0;o.reduceRight(((t,e)=>{const i=s()(e),a=i.attr("data-quantity"),n=i.attr("data-surplus"),r=i.attr("data-nominative"),o=i.attr("data-genitive"),c=i.attr("data-genitive-plural"),u=parseInt(i.attr("data-min"),10),p=parseInt(a,10);p>0&&(d=!1),p<u&&(l=!1);const h=p+t;if(void 0!==n)return h;const m=h%100,f=h%10,$=m>4&&m<21||f>4||0===f;return 0===h?i.attr("data-value",""):$?i.attr("data-value",`${h} ${c}`):1===f?i.attr("data-value",`${h} ${r}`):i.attr("data-value",`${h} ${o}`),0}),0);let c=0;const u=o.reduce(((t,e)=>{const i=s()(e).attr("data-value");if(""!==i){if(c+=1,100===c)return`${t}...`;if(c>100)return t}return""!==i&&""!==t?`${t}, ${i}`:`${t}${i}`}),"");""!==u?i.text(u):i.text(i.attr("data-placeholder")),n.prop("disabled",d),r.prop("disabled",!l)}function l(t){const{$quantity:e}=t.data,i=s()(t.target);if($(e),parseInt(e.val(),10)>0){const t=setTimeout(_,500,e,i);i.attr("data-timer-id",t)}}function c(t){const{$quantity:e}=t.data,i=s()(t.target),a=parseInt(e.attr("max"),10);if(g(e),parseInt(e.val(),10)<a){const t=setTimeout(v,500,e,i);i.attr("data-timer-id",t)}}function u(t){const e=parseInt(s()(t.target).attr("data-timer-id"),10);clearTimeout(e),clearInterval(e)}function p(t){const e=s()(t.target),{$minus:i,$plus:a}=t.data,n=parseInt(e.attr("data-previous"),10),r=e.val(),o=parseInt(r,10)||0,d=e.attr("max");if(r.match(/^\d{0,2}$/)&&o<=d&&o>=0){if(e.val(r.replace(/^0*/,"")),e.attr("data-quantity",o).attr("data-previous",o),i.prop("disabled",!(o>0)),a.prop("disabled",!(o<d)),o<1){const t=parseInt(i.attr("data-timer-id"),10);clearTimeout(t),clearInterval(t)}else if(o>=d){const t=parseInt(a.attr("data-timer-id"),10);clearTimeout(t),clearInterval(t)}}else n>0?e.val(n):e.val("")}function h(t){const e=s()(t.target),{keyCode:i}=t,a=e.attr("max");let n=e.val();if(8===i||46===i)t.preventDefault(),e.val(n.replace(/.$/,"")),e.trigger("input");else if(i>=48&&i<=57){t.preventDefault();n=`${n}${i-48}`;let s=parseInt(n,10),r=n.match(/^\d{0,2}$/)&&s<=a&&s>=0;if(!r){if(!(n.length>1))return;if(n=n.replace(/^./,""),s=parseInt(n,10),r=n.match(/^\d{0,2}$/)&&s<=a&&s>=0,!r){if(!(n.length>1))return;if(n=n.replace(/^./,""),s=parseInt(n,10),r=n.match(/^\d{0,2}$/)&&s<=a&&s>=0,!r)return}}e.val(n),e.trigger("input")}}function m(t){const{$dropdown:e,$quantities:i}=t.data.dropdown;i.each(((t,e)=>{s()(e).val("").triggerHandler("input")})),e.trigger("input")}function f(t){const{$dropdown:e}=t.data.dropdown;e.removeClass("dropdown_open")}function $(t){const e=parseInt(t.val(),10);e>0&&t.val(e-1),t.trigger("input")}function g(t){const e=parseInt(t.val(),10)||0;e<t.attr("max")&&t.val(e+1),t.trigger("input")}function _(t,e){const i=setInterval($,75,t);e.attr("data-timer-id",i)}function v(t,e){const i=setInterval(g,75,t);e.attr("data-timer-id",i)}function w(t){t.stopPropagation()}s()(".js-dropdown").each(((t,e)=>{new n(e).init()}))},339:(t,e,i)=>{"use strict";var a=i(755),s=i.n(a);class n{$like;$number;$input;constructor(t){this.$like=s()(t)}init(){const{$like:t}=this;return this.$number=s()(".js-like__number",t),this.$input=s()(".js-like__input",t).val(parseInt(t.attr("data-likes"),10)),this.$like.on("mousedown",{like:this},r).on("keydown",{like:this},o),this}activate(){const{$like:t,$number:e,$input:i}=this,a=t.hasClass("like_active")?parseInt(t.attr("data-likes"),10)-1:parseInt(t.attr("data-likes"),10)+1;return t.toggleClass("like_active").attr("data-likes",`${a}`),e.text(`${a}`),i.val(a),this}}function r(t){const{like:e}=t.data;e.activate()}function o(t){const{like:e}=t.data,{keyCode:i}=t;32!==i&&13!==i||(t.preventDefault(),e.activate())}s()(".js-like").each(((t,e)=>{new n(e).init()}))},758:(t,e,i)=>{"use strict";var a=i(755),s=i.n(a);class n{$paginator;$description;length;active;constructor(t){this.$paginator=s()(t)}init(){return this.active=1,this.length=parseInt(this.$paginator.attr("data-length"),10),this.$description=s()(".js-paginator__description",this.$paginator),this.$paginator.on("keydown",{paginator:this},r).on("mousedown",".js-paginator__item",{paginator:this},o),this}back(){return this.active>1&&this.setActive(this.active-1),this}forward(){return this.active<this.length&&this.setActive(this.active+1),this}setActive(t){return this.active=t,this.$paginator.attr("data-active",t),this.$description.text(`${12*(t-1)+1} – ${12*t} из 100+ вариантов аренды`),this}}function r(t){const{keyCode:e}=t,{paginator:i}=t.data;if(37===e)return t.preventDefault(),void i.back();39===e&&(t.preventDefault(),i.forward())}function o(t){const{paginator:e}=t.data,i=s()(t.target).attr("data-number");"back"!==i?"forward"!==i?e.setActive(parseInt(i,10)):e.forward():e.back()}s()(".js-paginator").each(((t,e)=>{new n(e).init()}))},779:(t,e,i)=>{"use strict";var a=i(755),s=i.n(a);class n{$rate;$input;rating;constructor(t){this.$rate=s()(t),this.rating=parseInt(this.$rate.attr("data-rating"),10)}init(){return this.$rate.on("mouseover",".js-rate__star",{rate:this},r).on("mouseout",".js-rate__star",{rate:this},o).on("mousedown",".js-rate__star",{rate:this},d).on("keydown",{rate:this},l).append('\n        <input\n          type="number"\n          class="rate__input js-rate__input"\n          name="rating"\n        >'),this.$input=s()(".js-rate__input").val(this.rating),this}setRating(t){return this.rating=t,this}}function r(t){const{$rate:e}=t.data.rate;e.attr("data-rating",s()(t.target).attr("data-rating"))}function o(t){const{$rate:e,rating:i}=t.data.rate;e.attr("data-rating",i)}function d(t){const{rate:e}=t.data,i=parseInt(s()(t.target).attr("data-rating"),10);e.setRating(i),e.$input.val(i)}function l(t){const{rate:e}=t.data,{keyCode:i}=t,{$rate:a,$input:s,rating:n}=e;if(37===i||39===i){t.preventDefault();const r=37===i?n>1?n-1:n:n<5?n+1:n;e.setRating(r),s.val(r),a.attr("data-rating",r)}}s()(".js-rate.rate_enabled").each(((t,e)=>{new n(e).init()}))},177:(t,e,i)=>{"use strict";var a=i(755),s=i.n(a);class n{constructor(t){this.state={start:0,end:0,step:0,from:0,to:0,hasTwoValues:!1},this.modulo=0,this.update(t)}update(t){const{start:e=0,end:i=0,step:a=0,from:s=0,to:n=0,hasTwoValues:r=!1}=this.state,{modulo:o}=this,d=t=>{r?Math.abs(s-t)<Math.abs(n-t)?this.state.from=t:this.state.to=t:this.state.from=t},l=(t,e)=>{r?e===s?this.state.from=t:this.state.to=t:this.state.from=t};if(function(t){return void 0!==t.size}(t)){const{size:a,clickPoint:s}=t;return d(this.normalizeValue(s*(i-e)/a+e)),this.sortValues()}if(function(t){return void 0!==t.moveDirection}(t)){const{moveDirection:e,value:s}=t,n=0!==o&&s===i&&-1===e?i-o:s+a*e;return l(this.normalizeValue(n),s),this.sortValues()}if(function(t){return void 0!==t.scaleValue}(t)){const{scaleValue:e}=t;return d(e),this.sortValues()}if(!function(t){return void 0!==t.innerOffset}(t))return this.state=Object.assign(Object.assign({},this.state),t),this.normalizeState();const{innerOffset:c,wrapperSize:u,value:p}=t;return l(this.normalizeValue(c*(i-e)/u+e),p),this.sortValues()}normalizeState(){const{from:t=0,to:e=0}=this.state;return this.modulo=this.normalizeStep().getModulo(),this.state.from=this.normalizeValue(t),this.state.to=this.normalizeValue(e),this.sortValues()}normalizeStep(){const{start:t=0,end:e=0,step:i=0}=this.state;if(Math.abs(i)>Math.abs(e-t))this.state.step=e-t;else{e>t&&i>0||e<t&&i<0||(this.state.step=-1*i)}return this}normalizeValue(t){const{start:e=0,end:i=0,step:a=0}=this.state,{modulo:s}=this;return e>i?t>e?e:t<i?i:0!==a?t<i-s/2?i:t<i-s?i-s:e+a*Math.round((t-e)/a):t:t<e?e:t>i?i:0!==a?t>i-s/2?i:t>i-s?i-s:e+a*Math.round((t-e)/a):t}sortValues(){const{start:t=0,end:e=0,from:i=0,to:a=0,hasTwoValues:s=!1}=this.state;return s&&(t>e?i<a&&([this.state.from,this.state.to]=[a,i]):i>a&&([this.state.from,this.state.to]=[a,i])),this.state}getModulo(){const{start:t=0,end:e=0,step:i=0}=this.state;return 0===i?0:e-t-i*Math.floor((e-t)/i)}}var r;!function(t){t[t.back=-1]="back",t[t.stop=0]="stop",t[t.forward=1]="forward"}(r||(r={}));class o{constructor(t){this.state={value:0,position:0,isVertical:!1,hidden:!1,tooltipHidden:!1,units:""},this.drag={position:null,innerOffset:0,wrapperPosition:0,wrapperSize:0,minRestriction:0,maxRestriction:0},this.moveDirection=r.stop;const{$wrapper:e,state:i}=t;this.$tooltip=s()('<div class="toxin-slider__thumb-tooltip"></div>'),this.$thumb=s()('<div class="toxin-slider__thumb" tabindex="0"></div>').append(this.$tooltip),this.$wrapper=e.append(this.$thumb),this.$thumb.on("mousedown pointerdown",{thumb:this},d),this.$thumb.on("keydown",{thumb:this},u),this.$thumb.on("keyup",{thumb:this},p),this.update(i)}update(t){var e;return this.state=Object.assign(Object.assign({},this.state),t),this.position(),this.$tooltip.text(`${new Intl.NumberFormat("ru-RU").format(t.value)}${null!==(e=t.units)&&void 0!==e?e:""}`),t.hidden?this.$thumb.addClass("toxin-slider__thumb_hidden"):this.$thumb.removeClass("toxin-slider__thumb_hidden"),t.tooltipHidden?this.$tooltip.addClass("toxin-slider__thumb-tooltip_hidden"):this.$tooltip.removeClass("toxin-slider__thumb-tooltip_hidden"),this}getPosition(){return null===this.drag.position?this.state.position:this.drag.position}getDirection(){return this.moveDirection}sendDragMessage(){return this.$thumb.trigger("toxin-slider.update",{innerOffset:this.drag.innerOffset,wrapperSize:this.drag.wrapperSize,value:this.state.value}),this}sendMoveMessage(){return this.$thumb.trigger("toxin-slider.update",{moveDirection:this.getDirection(),value:this.state.value}),this}position(){const t=this.state.isVertical?"Y":"X",e=this.getPosition();return this.$thumb.css("transform",`translate${t}(${"X"===t?e-100:-1*e}%)`),this}}function d(t){var e,i,a,n,r,o,d,u,p,h,m,f,$,g;const{thumb:_}=t.data,{$thumb:v,$wrapper:w,state:b,drag:x}=_;b.isVertical?(x.wrapperPosition=null!==(i=null===(e=w.offset())||void 0===e?void 0:e.top)&&void 0!==i?i:0,x.wrapperSize=null!==(a=w.outerHeight())&&void 0!==a?a:0):(x.wrapperPosition=null!==(r=null===(n=w.offset())||void 0===n?void 0:n.left)&&void 0!==r?r:0,x.wrapperSize=null!==(o=w.outerWidth())&&void 0!==o?o:0);const k=b.isVertical?null!==(u=null===(d=v.offset())||void 0===d?void 0:d.top)&&void 0!==u?u:0:null!==(h=null===(p=v.offset())||void 0===p?void 0:p.left)&&void 0!==h?h:0,D=b.isVertical?null!==(m=v.outerHeight())&&void 0!==m?m:0:null!==(f=v.outerWidth())&&void 0!==f?f:0,j=(b.isVertical?null!==($=t.clientY)&&void 0!==$?$:0:null!==(g=t.clientX)&&void 0!==g?g:0)-k-D;x.minRestriction=j+x.wrapperPosition,x.maxRestriction=x.minRestriction+x.wrapperSize,x.innerOffset=b.isVertical?x.wrapperPosition-k:k+D-x.wrapperPosition,s()(document).on("mousemove pointermove",{thumb:_},l),s()(document).on("mouseup pointerup",{thumb:_},c),w.addClass("toxin-slider__inner-wrapper_draggable")}function l(t){var e,i;const{thumb:a}=t.data,{state:s,drag:n}=a,r=s.isVertical?null!==(e=t.clientY)&&void 0!==e?e:0:null!==(i=t.clientX)&&void 0!==i?i:0;r<n.minRestriction?n.innerOffset=s.isVertical?n.wrapperSize:0:r>n.maxRestriction?n.innerOffset=s.isVertical?0:n.wrapperSize:n.innerOffset=s.isVertical?n.maxRestriction-r:r-n.minRestriction,n.position=100*n.innerOffset/n.wrapperSize,a.sendDragMessage()}function c(t){const{thumb:e}=t.data,{drag:i,$wrapper:a}=e;s()(document).off("mousemove pointermove",l),s()(document).off("mouseup pointerup",c),i.position=null,e.sendDragMessage(),a.removeClass("toxin-slider__inner-wrapper_draggable")}function u(t){const{thumb:e}=t.data,{$wrapper:i}=e,{keyCode:a}=t;38===a||39===a?e.moveDirection=r.forward:40!==a&&37!==a||(e.moveDirection=r.back),e.getDirection()!==r.stop&&(t.preventDefault(),e.sendMoveMessage()),i.addClass("toxin-slider__inner-wrapper_draggable")}function p(t){const{thumb:e}=t.data,{$wrapper:i}=e;e.moveDirection=r.stop,i.removeClass("toxin-slider__inner-wrapper_draggable")}class h{constructor(t){const{$wrapper:e,state:i}=t;this.$progressBar=s()('<div class="toxin-slider__progress-bar"></div>'),e.append(this.$progressBar),this.update(i)}update(t){return this.$progressBar.css("transform",t.isVertical?`translate(-50%, ${100-t.max}%) scaleY(${t.max-t.min}%)`:`translate(${t.min}%, -50%) scaleX(${t.max-t.min}%)`),t.hidden?this.$progressBar.addClass("toxin-slider__progress-bar_hidden"):this.$progressBar.removeClass("toxin-slider__progress-bar_hidden"),this}}class m{constructor(t){this.isVertical=!1;const{$wrapper:e,isVertical:i}=t;this.$bar=s()('<div class="toxin-slider__bar"></div>'),e.append(this.$bar),this.$bar.on("mousedown",{bar:this},f),this.update(i)}update(t){return this.isVertical=t,this}}function f(t){var e,i,a,s,n,r,o,d;const{bar:l}=t.data,{$bar:c,isVertical:u}=l,p=u?null!==(e=c.outerHeight())&&void 0!==e?e:0:null!==(i=c.outerWidth())&&void 0!==i?i:0,h=u?(null!==(s=null===(a=c.offset())||void 0===a?void 0:a.top)&&void 0!==s?s:0)-window.scrollY+p-(null!==(n=null==t?void 0:t.clientY)&&void 0!==n?n:0):(null!==(r=null==t?void 0:t.clientX)&&void 0!==r?r:0)+window.scrollX-(null!==(d=null===(o=c.offset())||void 0===o?void 0:o.left)&&void 0!==d?d:0);c.trigger("toxin-slider.update",{size:p-16,clickPoint:function(){if(h<8)return 0;if(h>p-8)return p-16;return h-8}()})}const $='<div class="toxin-slider__scale-item"></div>',g='<div class="toxin-slider__scale-value js-toxin-slider__scale-value"></div>',_='<div class="toxin-slider__scale-inner-wrapper"></div>';class v{constructor(t){this.state={start:NaN,end:NaN,step:NaN,hidden:!1,units:""};const{$wrapper:e,state:i}=t;this.$scale=s()('<div class="toxin-slider__scale"></div>'),e.append(this.$scale),this.$scale.on("mousedown",".toxin-slider__scale-value",{$scale:this.$scale},w),this.update(i)}update(t){(this.state.start!==t.start||this.state.end!==t.end||this.state.step!==t.step)&&(this.$scale.empty().append(function(t){const{start:e,end:i,step:a,units:n=""}=t,r=0===a?i-e:a,o=0===a?0:i-e-a*Math.floor((i-e)/a);let d=e;const l=s()(_).append(s()($).append(s()(g).text(`${new Intl.NumberFormat("ru-RU").format(d)}${n}`).attr("data-value",d)).append(s()(g).text(`${new Intl.NumberFormat("ru-RU").format(d)}${n}`).addClass("toxin-slider__scale-value_invisible")).css({"flex-grow":Math.abs(r),"flex-basis":"0"}));let c=1;do{d=e+r*c;const t=s()($),a=d>e&&d>i||d<e&&d<i;d===i-o&&d!==i?t.addClass("toxin-slider__scale-item_penult").css({"flex-grow":Math.abs(r),"flex-basis":"0"}):d===i?t.css({"flex-grow":Math.abs(r),"flex-basis":"0"}):a?(d=i,t.css({"flex-grow":Math.abs(2*o),"flex-basis":"0"})):t.css({"flex-grow":Math.abs(2*r),"flex-basis":"0"}),d===i&&t.append(s()(g).text(`${new Intl.NumberFormat("ru-RU").format(d)}${n}`).addClass("toxin-slider__scale-value_invisible")),l.append(t.append(s()(g).text(`${new Intl.NumberFormat("ru-RU").format(d)}${n}`).attr("data-value",d))),c+=1}while(d!==i);return l}(t)),this.state=Object.assign(Object.assign({},this.state),t)),t.hidden?this.$scale.addClass("toxin-slider__scale_hidden"):this.$scale.removeClass("toxin-slider__scale_hidden")}}function w(t){const{$scale:e}=t.data,i=Number(s()(t.target).attr("data-value"));e.trigger("toxin-slider.update",{scaleValue:i})}const b='<input type="number" class="toxin-slider__input">';class x{constructor(t){this.state={start:0,end:0,step:0,from:0,to:0,hasTwoValues:!1,isVertical:!1,progressBarHidden:!1,scaleHidden:!1,tooltipHidden:!1,units:"",name:"undefined-name"};const{$outerWrapper:e,state:i}=t;this.state=Object.assign(Object.assign({},this.state),i);const{start:a=0,end:n=0,step:r=0,from:d=0,to:l=0,hasTwoValues:c=!1,isVertical:u=!1,progressBarHidden:p=!1,tooltipHidden:f=!1,scaleHidden:$=!1,units:g="",name:_="undefined-name"}=this.state,w=s()('<div class="toxin-slider__inner-wrapper"></div>'),{min:x,max:k}=this.calculateRange();this.thumbA=new o({$wrapper:w,state:{isVertical:u,tooltipHidden:f,units:g,value:d,position:x,hidden:!c}}),this.thumbB=new o({$wrapper:w,state:{isVertical:u,tooltipHidden:f,units:g,value:c?l:d,position:k,hidden:!1}}),this.progressBar=new h({$wrapper:w,state:{min:x,max:k,isVertical:u,hidden:p}}),this.$toxinSlider=s()('<div class="toxin-slider js-toxin-slider"></div>'),c||p||this.$toxinSlider.addClass("toxin-slider_range_single"),u&&this.$toxinSlider.addClass("toxin-slider_direction_vertical"),this.bar=new m({isVertical:u,$wrapper:this.$toxinSlider}),this.$from=s()(b).attr("name",`${_}-from`).val(d),this.$to=s()(b).attr("name",`${_}-to`).val(l),this.$toxinSlider.append(w).append(this.$from).append(this.$to),this.scale=new v({$wrapper:this.$toxinSlider,state:{start:a,end:n,step:r,units:g,hidden:$}}),e.append(this.$toxinSlider),this.$toxinSlider.trigger("toxin-slider.slide",this.state)}update(t){this.state=Object.assign(Object.assign({},this.state),t);const{start:e=0,end:i=0,step:a=0,from:s=0,to:n=0,hasTwoValues:r=!1,isVertical:o=!1,progressBarHidden:d=!1,tooltipHidden:l=!1,scaleHidden:c=!1,units:u=""}=this.state;this.$from.val(s),this.$to.val(n),r||d?this.$toxinSlider.removeClass("toxin-slider_range_single"):this.$toxinSlider.addClass("toxin-slider_range_single"),o?this.$toxinSlider.addClass("toxin-slider_direction_vertical"):this.$toxinSlider.removeClass("toxin-slider_direction_vertical");const{min:p,max:h}=this.sortThumbs().calculateRange(),{thumbA:m,thumbB:f,progressBar:$,bar:g,scale:_}=this;return m.update({isVertical:o,tooltipHidden:l,units:u,value:s,position:p,hidden:!r}),f.update({isVertical:o,tooltipHidden:l,units:u,value:r?n:s,position:h,hidden:!1}),$.update({isVertical:o,min:m.getPosition(),max:f.getPosition(),hidden:d}),g.update(o),_.update({start:e,end:i,step:a,units:u,hidden:c}),this}calculateRange(){const{start:t=0,end:e=0,from:i=0,to:a=0,hasTwoValues:s=!1}=this.state,n=e-t;if(0===n)return{min:0,max:0};return{min:s?100*(i-t)/n:0,max:s?100*(a-t)/n:100*(i-t)/n}}sortThumbs(){const{hasTwoValues:t=!1}=this.state,{thumbA:e,thumbB:i}=this;return t&&(e.getPosition()>i.getPosition()||e.getPosition()===i.getPosition()&&e.getDirection()>i.getDirection())&&([this.thumbA,this.thumbB]=[i,e]),this}}class k{constructor(t){const{model:e,view:i}=t,{$toxinSlider:a}=i;this.model=e,this.view=i,a.on("toxin-slider.update",{model:e,view:i},D)}}function D(t,e){const{model:i,view:a}=t.data,{$toxinSlider:s}=a;a.update(Object.assign(Object.assign({},a.state),i.update(e))),s.trigger("toxin-slider.slide",a.state)}function j(t,{from:e,to:i}){t.data.$value.text(`${new Intl.NumberFormat("ru-RU").format(e)}₽ - ${new Intl.NumberFormat("ru-RU").format(i)}₽`)}s().fn.toxinSlider=function(t){return this.each(((e,i)=>{const a=s()(i),r=s()(".js-toxin-slider",a);if(r.length>0)r.trigger("toxin-slider.update",t);else{const{name:i=""}=t,s=e>0?`${i}-${e}`:i,r=Object.assign(Object.assign({},t),{name:s}),o=new n(r),d=new x({$outerWrapper:a,state:o.state});new k({model:o,view:d})}}))},s()(".js-slider-toxin").each(((t,e)=>{const i=s()(e),a=s()(".js-slider-toxin__value",i);s()(".js-slider-toxin__body",s()(e)).on("toxin-slider.slide",{$value:a},j).toxinSlider({start:parseFloat(e.dataset.start),end:parseFloat(e.dataset.end),step:parseFloat(e.dataset.step),from:parseFloat(e.dataset.from),to:parseFloat(e.dataset.to),hasTwoValues:!0,scaleHidden:!0,tooltipHidden:!0,name:e.dataset.name})}))},610:(t,e,i)=>{"use strict";var a=i(755),s=i.n(a);class n{#t;$email;$submit;constructor(t){this.#t=s()(t)}init(){return this.$email=s()(".js-subscription__input",this.#t),this.$submit=s()(".js-subscription__button",this.#t),this.$email.on("input",null,{$email:this.$email,$submit:this.$submit},r),this}}function r(t){const{$email:e,$submit:i}=t.data;var a;i.prop("disabled",(a=e.val(),!String(a).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)))}s()(".js-subscription").each(((t,e)=>{new n(e).init()}))},234:(t,e,i)=>{"use strict";var a=i(755),s=i.n(a);class n{#e;$double;$dateInput;preValue;constructor(t){this.#e=s()(t)}init(){s()(".js-text-field__input",this.#e).attr("placeholder","").on("input",null,{textField:this},o).on("change focusout",null,{textField:this},d).on("paste",r);const t=this.#e.data("name");return s()(".js-text-field__wrapper",this.#e).append(`\n        <input\n          type="text"\n          class="text-field__input text-field__input_double js-text-field__input_double"\n          disabled\n          placeholder="ДД.ММ.ГГГГ"\n        >\n        <input\n          type="date"\n          class="text-field__date js-text-field__date"\n          name="${t}-date"\n        >`),this.$double=s()(".js-text-field__input_double",this.#e),this.$dateInput=s()(".js-text-field__date",this.#e),this.preValue="",this}setPreValue(t){return this.preValue=t,this}}function r(t){t.preventDefault()}function o(t){const e=t.target,i=s()(e),a=/^(\d{0,2}\.?|\d{0,2}\.\d{0,2}\.?|\d{0,2}\.\d{0,2}\.\d{0,4})$/;i.removeClass("text-field__input_invalid");let n=e.selectionStart,r=i.val();const{preValue:o,$double:d}=t.data.textField;if(o.length>r.length)null===r.match(a)?r=o:(r=r.replace(/\.$/,""),r=r.replace(/\.$/,""));else if(null===r.match(/^(\d{0,3}|\d{0,2}\.\d{1,3}|\d{0,2}\.\d{0,2}\.\d{1,4})$/))r=o,n-=1;else{const t=/^(3[2-9]|[4-9]\d)$/,e=/^\d{0,2}\.(1[3-9]|[2-9]\d)$/,i=/^\d{3}$/,a=/^\d{0,2}\.\d{3}$/,s=null!==r.match(t),d=null!==r.match(e),l=null!==r.match(i),c=null!==r.match(a),{length:u}=r,p=s?`0${r[0]}`:l?r.slice(0,2):r.split(".")[0],h=s?r[1]:l?r[2]:d?`0${r[u-2]}`:c?r.slice(u-3,u-1):r.split(".")[1],m=d||c?r[u-1]:r.split(".")[2];if(function(t={}){const{days:e="",month:i="",year:a=""}=t,s=""!==e?parseInt(e,10):0;if(!("00"!==e&&s<32))return!1;const n=""!==i?parseInt(i,10):0;if(!("00"!==i&&n<13))return!1;const r=""===a||null!==a.match(/^(19|20)$/)||1===a.length||3===a.length?0:2===a.length?parseInt(a,10)<30?parseInt(`20${a}`,10):parseInt(`19${a}`,10):parseInt(a,10);return!!(2!==n||s<29||s<30&&r%4==0&&1900!==r)&&(s<31||![4,6,9,11].includes(n))}({days:p,month:h,year:m})){const t=s||l?1:d||c?2:(r.slice(0,n).match(/\./g)??[]).length,e=null!==p.match(/^[4-9]$/),i=void 0!==h&&null!==h.match(/^[2-9]$/),a=void 0!==m&&null!==m.match(/^(0\d?|1[0-8]|2[1-9]|[3-9]\d?)$/),o=[];o.push(e?`0${p}`:p),void 0!==h&&o.push(i?`0${h}`:h),void 0!==m&&(a?null!==m.match(/^[3-9]\d?$/)?o.push(`19${m}`):o.push(`20${m}`):o.push(m));const u=(()=>{if(0===t)return e?1:0;if(1===t)return s&&i?3:s||l&&i?2:l?1:e&&i?2:e||i?1:0;if(d&&e&&a)return 5;if(d&&e)return 3;if(d&&a)return 4;if(d)return 2;if(c&&e&&a)return 4;if(c&&e)return 2;if(c&&a)return 3;if(c)return 1;return e&&i&&a?4:e&&i?2:e&&a||i&&a?3:e||i?1:a?2:0})();r=o.join("."),n+=u}else r=o,n-=1}i.val(r),d.attr("placeholder",function(t){const e="ДД.ММ.ГГГГ".split("");return t.split("").forEach(((t,i)=>{e[i]=t})),e.join("")}(r)),e.setSelectionRange(n,n),t.data.textField.setPreValue(r)}function d(t){const e=s()(t.target),i=e.val(),a=i.split(".").reverse().join("-"),{$dateInput:n}=t.data.textField;i.match(/^\d{2}\.\d{2}\.\d{4}$/)&&!Number.isNaN(Date.parse(a))||""===i?(e.removeClass("text-field__input_invalid"),n.val(a)):e.addClass("text-field__input_invalid")}s()(".js-text-field_type_date").each(((t,e)=>{new n(e).init()}))},247:(t,e,i)=>{"use strict";var a=i(755),s=i.n(a);s()(document).on("keydown",".toggle__button",(function(t){if(13===t.keyCode||32===t.keyCode){t.preventDefault();const e=s()(t.target),i=e.prop("checked");e.prop("checked",!i)}}))},320:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>a});const a=i.p+"assets/favicons/android-chrome-192x192.png"},641:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>a});const a=i.p+"assets/favicons/android-chrome-512x512.png"},879:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>a});const a=i.p+"assets/favicons/apple-touch-icon.png"},978:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>a});const a=i.p+"assets/favicons/browserconfig.xml"},435:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>a});const a=i.p+"assets/favicons/favicon-16x16.png"},723:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>a});const a=i.p+"assets/favicons/favicon-32x32.png"},211:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>a});const a=i.p+"assets/favicons/favicon.ico"},833:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>a});const a=i.p+"assets/favicons/mstile-144x144.png"},962:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>a});const a=i.p+"assets/favicons/mstile-150x150.png"},577:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>a});const a=i.p+"assets/favicons/mstile-310x150.png"},811:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>a});const a=i.p+"assets/favicons/mstile-310x310.png"},282:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>a});const a=i.p+"assets/favicons/mstile-70x70.png"},598:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>a});const a=i.p+"assets/favicons/safari-pinned-tab.svg"},983:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>a});const a=i.p+"assets/favicons/site.webmanifest"},578:(t,e,i)=>{"use strict";i(234),i(912),i(485),i(610),i(379),i(247),i(339),i(779),i(177),i(758),i(382)}},t=>{var e;e=578,t(t.s=e)}]);
//# sourceMappingURL=form-elements.js.map